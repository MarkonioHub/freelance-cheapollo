{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/scripts/app.js","webpack:///./assets/scripts/components/about.js","webpack:///./assets/scripts/components/basket.js","webpack:///./assets/scripts/components/catalog-modal.js","webpack:///./assets/scripts/components/category-filters.js","webpack:///./assets/scripts/components/contacts-map.js","webpack:///./assets/scripts/components/create-password.js","webpack:///./assets/scripts/components/delivery.js","webpack:///./assets/scripts/components/faq.js","webpack:///./assets/scripts/components/header-fixed.js","webpack:///./assets/scripts/components/header__search.js","webpack:///./assets/scripts/components/index-cap.js","webpack:///./assets/scripts/components/modal-basket.js","webpack:///./assets/scripts/components/modal-box.js","webpack:///./assets/scripts/components/modal-courier.js","webpack:///./assets/scripts/components/modal-map-order.js","webpack:///./assets/scripts/components/modal-transport.js","webpack:///./assets/scripts/components/my-orders.js","webpack:///./assets/scripts/components/order-about.js","webpack:///./assets/scripts/components/order.js","webpack:///./assets/scripts/components/product-buy-button-like.js","webpack:///./assets/scripts/components/product.js","webpack:///./assets/scripts/components/reviews.js","webpack:///./assets/scripts/components/tile-button-favorite.js","webpack:///./assets/scripts/components/tile__button_basket.js","webpack:///./assets/scripts/tools/Basket.js","webpack:///./assets/scripts/tools/CreateNodesForSearch.js","webpack:///./assets/scripts/tools/FavoritePosts.js","webpack:///./assets/scripts/tools/IsInvalidationPhone.js","webpack:///./assets/scripts/tools/ScrollToAnchor.js","webpack:///./assets/scripts/tools/SendFormAntispam.js","webpack:///./assets/scripts/tools/autocompleteAndSendForm.js","webpack:///./assets/scripts/tools/my-fancybox.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js"],"names":["about","document","querySelector","setTimeout","aboutInit","aboutTable","aboutTableMore","addEventListener","toggleAboutTable","clientHeight","classList","add","contains","remove","innerHTML","view","initBasket","counterElements","querySelectorAll","basketInputCounterArray","getElementsByClassName","basketResultValue","basketOrderInfoItemValueDiscount","basketOrderInfoItemValuePromocode","basketOrderInfoItemValuePriceFull","basketOrderInfoItemValueCountAll","basketOrderInfoItemValueWeight","basketFixedPriceOld","basketFixedPriceCurrent","headerMobileText","basketTextMain","refreshPrice","priceFull","discountFull","countAll","weight","priceResult","i","length","price","getAttribute","value","discount","toFixed","textContent","formatPrice","String","substring","morph","int","array","priceString","trim","slice","basket","event","preventDefault","Basket","clean","submit","forEach","element","InputCount","productElements","Product","productElement","_view","_buttonRemove","_buttonFavorite","toggleFavorites","id","deleteProductFromFavorites","addProductInFavorites","_count","count","dataId","removeProduct","basketBoxArray","items","removeBlock","infoEmptyPage","countElement","_input","_step","_buttonDown","_buttonUp","_buttonClose","validation","down","up","Math","trunc","abs","hideDown","showDown","style","display","showClose","hideClose","headerCatalogBtn","headerCatalogBtnInit","catalogModal","header","headerLayer","catalogModalItemArray","categoryCapLinkArray","categoryCapLinkArrayAll","catalogModalBack","catalogModalList","catalogModalListModal","openInnerCategories2","hideAllLink","currentLinkList","setAttribute","openInnerCategories","closeInnerCategories","hideMainCategory","showMainCategory","currentLink","searchId","currentLinkList2","removeAttribute","closeCatalog","toggleCatalog","openCatalog","openHeaderCatalog","closeHeaderCatalog","displayHide","opacityActive","sidebarFilter","sidebarFilterInit","categoryCheckboxBoxArray","categoryCheckboxBoxInit","openButton","layer","buttonClose","doubleInputs","filterBlockInit","block","minInput","maxInput","checkDoubleValue","isValidDoubleIInput","start","end","checkSubmit","notValidInputs","invalidInputs","showFilter","hideFilter","box","categoryCheckboxList","categoryCheckboxLabelArray","categoryCheckboxMore","toggleList","hideList","btn","contactsMap","contactsMapInit","contactsMapShowInfoArray","toggleInfoList","initMap","infoList","previousElementSibling","createMap","centerCoords","init","setMapCenter","JSON","parse","parentElement","myMap","setCenter","zoom","window","innerWidth","console","log","ymaps","Map","center","modalOrderMapAddressArray","ready","map","getElementById","centerMap","loadMap","mapScript","createElement","src","body","appendChild","contactMapInit","modalOrderMapItemArray","createPlacemark","item","coords","caption","placemark","Placemark","iconCaption","geoObjects","createPasswordForm","createPasswordFormInit","password1","password2","createPasswordSubmit","validateForm","disabled","delivery","deliveryInit","deliveryNavItemArray","toggleDeliverySection","oldActiveItem","oldActiveSection","selector","newActiveSection","faq","faqInit","faqSubtitles","toggleFaq","headerMobileBurger","headerMobileBurgerInit","headerFixed","headerFixedClose","showFixedMenu","hideFixedMenu","dataArray","categories","name","link","picture","src32","srcset32","srcset64","products","src140","srcset140","srcset48","srcset96","priceOld","ratingFill","ratingCount","availability","text","productsCount","journalCount","headerSearchInput","headerSearchInputInit","headerMobileSearch","headerMobileSearchClose","headerSearchBtnClose","headerSearch","headerSearchForm","headerCont","headerSearchYouLookingFor","searchOpen","searchHide","searchModalHide","linkRequest","action","textSearch","saveSearchText","savedSearchList","localStorage","getItem","unshift","pop","setItem","stringify","currentTarget","tileSearchItemArray","_eventKey","code","_eventInputForm","SearchAutoComplete","url","cb","request","XMLHttpRequest","open","setRequestHeader","response","readyState","DONE","status","send","target","timeOut","createHeaderSearchMainBox","focus","createListYouLookingFor","headerSearchList","createTag","headerSearchLink","submitYouLookingFor","headerSearchNote","after","removeEventListener","blur","indexCap","indexCapInit","activeIndex","indexCapArrowNext","indexCapArrowPrev","indexCapPictures","nextSlide","prevSlide","indexCapNavItems","checkoutNavItem","oldActive","checkoutSlide","index","checkNavItem","modalBasket","modalBasketInit","counterElement","click","buttonBasket","innerText","addProductInBasket","e","dir","closeBtn","initProductBasket","productId","inBasket","checkProduct","activateClassFromButtonBasket","addProduct","getCountProducts","tovar","modalBoxButtons","modalBoxButtonsInit","openModal","href","modal","closeModal","hideDisplay","showOpacity","modalCourier","modalCourierInit","modalCourierButton","requiredInputArray","validateReauiredInputs","modalCourierBoxSelectArray","selectInit","toggleSelectShow","listBox","removeListBox","activeListBox","modalCourierInputTextarea","resizeTextarea","input","toggleInput","height","scrollHeight","orderItemMapArray","orderItemMapArrayInit","once","scriptLoaded","mod","oldScript","script","getElementsByTagName","append","buttonInit","chooseAddress","resultArray","resultAddress","orderDeliveryResultPickup","spanArray","order","orderListDelivery","orderStepDelivery","orderDeliveryResultOld","orderTitleDelivery","date","orderDeliveryChangeActiveRemove","orderDeliveryChangeActive","orderItemMap","checked","mapNode","modalOrderMapButtonArray","button","modalOrderMapShowInfoArray","toggleModalOrderMapInfo","modalTransport","modalTransportInit","modalTransportButton","modalTransportBoxSelectArray","myOrdersFavoriteArray","myOrdersFavoriteArrayInit","checkLocalStorage","orderAboutFavoriteArray","orderAboutFavoriteArrayInit","orderInit","orderItemManager","chooseManager","orderInputRadioPaymentArray","paymentStepDone","orderStepPayment","orderDeliveryChangeArray","toggleOrderListDelivery","orderSidebarBox","showInputs","elements","updateCourierDelivery","updateTransportDelivery","orderReceiverLinkButtonArray","checkoutLoginRegisterForm","orderStep","initDropdawnButton","modalUserButton","updateOrderUser","orderReceiverTypeBtnArray","toggleType","orderListDeliveryHide","orderDeliveryResultManager","modalBoxClose","orderDeliveryResult","city","street","house","room","entrance","floor","deliveryTransport","orderItemTransport","span","deliveryTime","deliveryDate","comment","orderItemCourier","searchQuery","formToShow","orderDropdawn","orderMobileHiddenBlock","orderDropdawnToggle","userName","userPhone","userInputName","userInputPhone","oldBtn","oldBox","orderReceiverBox","productBuyButtonLike","productBuyButtonLikeInit","product","productInit","productNavPictures","productGalleryPictures","checkoutNavPicture","oldActiveNavPicture","checkoutGalleryPicture","reviews","reviewsInit","reviewsItems","reviewsItemInit","reviewsTextBox","reviewsTextMore","toggleReviewsTextBox","checkHeight","tileButtonBasketArray","tileButtonBasketArrayInit","addInBasket","checkLocalBasket","removeItem","setBasket","getProducts","includes","refreshCounts","countElements","dataset","basketCount","refreshHtmlCountProducts","fall","done","data","FormData","fetch","method","then","json","catch","error","sessionStorage","tagName","className","dataElement","tag","cont","removeOldHeaderSearchMainBox","headerSearchMainBox","headerSearchProductsBox","createHeaderSearchProductsBox","buttonAll","type","headerSearchCategoryList","category","createCategory","tileSearch","createTileSearch","list","createItem","createTileSearchPicture","priceBox","createTileSearchPriceBox","infoLine","createTileSearchInfoLine","rating","ratingValue","ratingAvailability","priceInfo","priceRouble","source2x","srcset","media","source140","image","headerSearchCategoryItem","headerSearchCategoryText","headerSearchCategoryPicture","createHeaderSearchCategoryPicture","source32","source64","createHeaderSearchMenu","headerSearchMenu","headerSearchMenuLink1","headerSearchMenuLink2","oldHeaderSearchMainBox","IsInvalidationPhone","phone","test","initScrollToAnchor","anchorElements","len","_loopAddEventScrollToAnchor","node","clickOnTheScrollElement","elementId","substr","hash","animateScrollToAnchor","theElement","positionNow","pageYOffset","positionElement","getBoundingClientRect","top","duration","step","performance","now","requestAnimationFrame","animate","time","timePassed","scrollTo","disabledButton","component","enabledButton","getData","form","dataMod","basketInputCounter","hiddenInput","delete","sendForm","formData","res","location","assign","mail","validatePhone","validationMail","validity","valid","forms","formsInit","formInit","personalInformation","autocomplete","submitForm","validate","fancyboxItems","initMyFancybox","initOneFancybox","createMyFancybox","children","currentItem","myFancybox","myFancyboxCont","createMyFancyboxCont","fancybox","fancyboxClass","openFancybox","myFancyboxWrapper","createMyFancyboxWrapper","myData","myDataObject","stringData","myFancyboxInner","menu","createMyFanciboxMenu","close","createMyFanciboxClose","next","createMyFanciboxButton","prev","area","createMyFanciboxArea","createMyFanciboxListBox","div","createMyFanciboxList","createMyFancyboxItem","srcBig","createMyFancyboxPicture","source","createMyFancyboxImage","createMyFancyboxBox","iframe","createMyFancyboxIframeBoxBig","createMyFancyboxPictureBig","createMyFancyboxLayer","p","createMyFanciboxText","createMyFancyboxImageBig","playFrame","frame","contentWindow","postMessage","func","createMyFancyboxIframeBig","fancyboxFunctionBindLink","myTimer","coordPrev","coordNext","myClass","wrapper","closeFancybox","btnMenu","toggleMenu","btnClose","toggleItem","prevFancybox","nextFancybox","picturesBig","showTextAndArrows","passive","svipeEnd","svipeSlide","imagesBig","deleteLoadCircle","iframesBig","boxActive","coord1","transform","coord2","animationSvipeRight","animationSvipeLeft","touches","clientX","clearTimeout","hide","newIndex","newActiveItem","animationSvipe","transitionDuration","qwe","oldActiveSmallItem","stopPlayingVideo","playingVideo","currentIndex","currentHref","activeItem","setOpacityVisible","eventCloseFromESC","bind"],"mappings":"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AO,CAAC,0EAAqB;;;;;;;;;;;;ACA9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/scripts/app.js\");\n","import \"./tools/autocompleteAndSendForm\"\r\nimport \"./tools/my-fancybox\"\r\nimport \"./tools/ScrollToAnchor\"\r\n\r\nimport \"./components/modal-box\"\r\n\r\nimport \"./components/faq\"\r\nimport \"./components/about\"\r\nimport \"./components/reviews\"\r\nimport \"./components/product\"\r\nimport \"./components/index-cap\"\r\nimport \"./components/create-password\"\r\nimport \"./components/header__search\"\r\nimport \"./components/header-fixed\"\r\nimport \"./components/catalog-modal\"\r\nimport \"./components/basket\"\r\nimport \"./components/category-filters\"\r\nimport \"./components/tile-button-favorite\"\r\nimport \"./components/product-buy-button-like\"\r\nimport \"./components/modal-basket\"\r\nimport \"./components/tile__button_basket\"\r\nimport \"./components/order\"\r\nimport \"./components/modal-courier\"\r\nimport \"./components/modal-transport\"\r\nimport \"./components/modal-map-order\"\r\nimport \"./components/contacts-map\"\r\nimport \"./components/delivery\"\r\nimport \"./components/order-about\"\r\nimport \"./components/my-orders\"\r\n","const about = document.querySelector('[data-element=\"about\"]')\r\n\r\nif (about) setTimeout(aboutInit, 0)\r\n\r\nfunction aboutInit() {\r\n  const aboutTable = about.querySelector('[data-element=\"about__table\"]')\r\n  const aboutTableMore = about.querySelector('[data-element=\"about__table-more\"]')\r\n  aboutTableMore.addEventListener(\"click\", toggleAboutTable)\r\n\r\n  if (aboutTable.clientHeight > 200) {\r\n    aboutTable.classList.add(\"about__table_scroll\")\r\n    aboutTableMore.classList.add(\"about__table-more_active\")\r\n  }\r\n\r\n  function toggleAboutTable () {\r\n    if (aboutTable.classList.contains(\"about__table_scroll-active\")) {\r\n      aboutTable.classList.remove(\"about__table_scroll-active\")\r\n      aboutTableMore.innerHTML = \"Показать всё\"\r\n      aboutTableMore.classList.remove(\"about__table-more_reverse\")\r\n    } else {\r\n      aboutTable.classList.add(\"about__table_scroll-active\")\r\n      aboutTableMore.innerHTML = \"Свернуть\"\r\n      aboutTableMore.classList.add(\"about__table-more_reverse\")\r\n    }\r\n  }\r\n}\r\n","import {Basket} from '../tools/Basket'\r\n\r\nimport { deleteProductFromFavorites, addProductInFavorites } from '../tools/FavoritePosts'\r\n\r\nconst view = document.querySelector('[data-element=\"basket__box\"]')\r\n\r\nif (view) setTimeout(initBasket, 0)\r\n\r\nconst counterElements = document.querySelectorAll('[data-element=\"basket__counter\"]')\r\nconst basketInputCounterArray = document.getElementsByClassName(\"basket__input-counter\")\r\nconst basketResultValue = document.querySelector('[data-element=\"basket__result-value\"]')\r\nconst basketOrderInfoItemValueDiscount = document.querySelector('[data-element=\"basket__order-info-item-value_discount\"]')\r\nconst basketOrderInfoItemValuePromocode = document.querySelector('[data-element=\"basket__order-info-item-value_promocode\"]')\r\nconst basketOrderInfoItemValuePriceFull = document.querySelector('[data-element=\"basket__order-info-item-value_price-full\"]')\r\nconst basketOrderInfoItemValueCountAll = document.querySelector('[data-element=\"basket__order-info-item-value_count-all\"]')\r\nconst basketOrderInfoItemValueWeight = document.querySelector('[data-element=\"basket__order-info-item-value_weight\"]')\r\nconst basketFixedPriceOld = document.querySelector('[data-element=\"basket__fixed-price-old\"]')\r\nconst basketFixedPriceCurrent = document.querySelector('[data-element=\"basket__fixed-price-current\"]')\r\n\r\nconst headerMobileText = document.querySelector('[data-element=\"header-mobile__text\"]')\r\nconst basketTextMain = document.querySelector('[data-element=\"basket__text-main\"]')\r\n\r\nfunction refreshPrice() {\r\n  let priceFull = 0\r\n  let discountFull = 0\r\n  let countAll = 0\r\n  let weight = 0\r\n  let priceResult = 0\r\n  for (let i = 0; i < basketInputCounterArray.length; i++) {\r\n    const price = +basketInputCounterArray[i].getAttribute(\"data-price\") * +basketInputCounterArray[i].value\r\n    const discount = +basketInputCounterArray[i].getAttribute(\"data-discount\") * +basketInputCounterArray[i].value\r\n    priceFull = priceFull + price\r\n    if (discount) discountFull = discountFull + discount\r\n    countAll = countAll + +basketInputCounterArray[i].value\r\n    weight = weight + +basketInputCounterArray[i].getAttribute(\"data-weight\") * +basketInputCounterArray[i].value\r\n  }\r\n  priceResult = (priceFull-discountFull).toFixed(2)\r\n  basketResultValue.textContent = formatPrice(String(priceResult))\r\n  basketFixedPriceCurrent.textContent = formatPrice(String(priceResult))\r\n  if (discountFull) {\r\n    basketOrderInfoItemValueDiscount.textContent = \"-\" + formatPrice(String(discountFull.toFixed(2)))\r\n  } else {\r\n    basketOrderInfoItemValueDiscount.remove()\r\n  }\r\n\r\n  basketOrderInfoItemValuePriceFull.textContent = formatPrice(String(priceFull.toFixed(2)))\r\n  const price = formatPrice(String(priceResult))\r\n  basketFixedPriceCurrent.textContent = price.substring(0, price.length - 1)\r\n  basketFixedPriceOld.textContent = formatPrice(String(priceFull.toFixed(2)))\r\n  basketOrderInfoItemValueCountAll.textContent = countAll.toFixed(2)\r\n  basketOrderInfoItemValueWeight.textContent = formatPrice(String(weight.toFixed(2)))\r\n\r\n  headerMobileText.textContent = countAll.toFixed(2) + \" \" + morph(countAll.toFixed(2)) + \" на сумму \" + formatPrice(String(priceResult))\r\n  basketTextMain.textContent = countAll.toFixed(2) + \" \" + morph(countAll.toFixed(2)) + \" на сумму \" + formatPrice(String(priceResult))\r\n}\r\n\r\nfunction morph(int, array) {\r\n  return (array = array || ['товар', 'товара', 'товаров']) && array[(int % 100 > 4 && int % 100 < 20) ? 2 : [2, 0, 1, 1, 1, 2][(int % 10 < 5) ? int % 10 : 5]];\r\n}\r\n\r\nfunction formatPrice (priceString) {\r\n  (+priceString).toFixed(2)\r\n  if (priceString.length < 4) return `${priceString} ₽`.trim()\r\n  return `${priceString.slice(-12, -9)} ${priceString.slice(-9, -6)} ${priceString.slice(-6, -3)} ${priceString.slice(-3, priceString.length)} ₽`.trim()\r\n}\r\n\r\nfunction initBasket () {\r\n  const basket = document.querySelector('[data-element=\"basket__form\"]')\r\n  basket.addEventListener('input', refreshPrice)\r\n  refreshPrice()\r\n\r\n  basket.addEventListener('submit', function (event) {\r\n    event.preventDefault()\r\n    Basket.clean()\r\n    basket.submit()\r\n  })\r\n\r\n  if (counterElements.length) {\r\n    counterElements.forEach((element) => {\r\n      new InputCount(element)\r\n    })\r\n  }\r\n\r\n  const productElements = document.querySelectorAll('[data-element=\"basket__item\"]')\r\n  if (productElements.length) {\r\n    productElements.forEach((element) => {\r\n      new Product(element)\r\n    })\r\n  }\r\n}\r\n\r\nclass Product {\r\n  constructor(productElement) {\r\n    this._view = productElement\r\n    this._buttonRemove = this.view.querySelector('[data-element=\"basket__btn_delete\"]')\r\n    this._buttonRemove.addEventListener('click', () => { this.remove() })\r\n    this._buttonFavorite = this.view.querySelector('[data-element=\"basket__favorite\"]')\r\n    this._buttonFavorite.addEventListener('click', () => { this.toggleFavorites() })\r\n  }\r\n\r\n  toggleFavorites() {\r\n    const id = this._buttonFavorite.getAttribute(\"data-id\")\r\n    if (this._buttonFavorite.classList.contains('basket__favorite_active')) {\r\n      deleteProductFromFavorites(this._buttonFavorite, id, \"basket__favorite_active\")\r\n    } else {\r\n      addProductInFavorites(this._buttonFavorite, id, \"basket__favorite_active\")\r\n    }\r\n  }\r\n\r\n  get view () {\r\n    return this._view\r\n  }\r\n\r\n  get count () {\r\n    return this._count\r\n  }\r\n\r\n  set count (count) {\r\n    this._count = count\r\n  }\r\n\r\n  remove () {\r\n    this.view.remove()\r\n    const dataId = this._buttonRemove.getAttribute(\"data-id\")\r\n    Basket.removeProduct(dataId)\r\n    const basketBoxArray = document.querySelectorAll('[data-element=\"basket__box\"]')\r\n    for (let i = 0; i < basketBoxArray.length; i++) {\r\n      const items = basketBoxArray[i].querySelectorAll('[data-element=\"basket__item\"]')\r\n      if (!items.length) basketBoxArray[i].remove()\r\n    }\r\n    const productElements = document.querySelectorAll('[data-element=\"basket__item\"]')\r\n    if (!productElements.length) {\r\n      this.removeBlock()\r\n      const infoEmptyPage = document.querySelector('[data-element=\"info-empty-page\"]')\r\n      infoEmptyPage.classList.remove(\"info-empty-page_hidden\")\r\n    }\r\n    refreshPrice()\r\n  }\r\n\r\n  removeBlock () {\r\n    const basket = document.querySelector('[data-element=\"basket\"]')\r\n    if (basket) basket.remove()\r\n  }\r\n}\r\n\r\nclass InputCount {\r\n  constructor(countElement) {\r\n    this._view = countElement\r\n    this._input = this._view.querySelector('[data-element=\"basket__input-counter\"]')\r\n    this._step = this._input.getAttribute('data-step') ? +this._input.getAttribute('data-step') : 1\r\n    this._buttonDown = this._view.querySelector('[data-element=\"basket__btn_down\"]')\r\n    this._buttonUp = this._view.querySelector('[data-element=\"basket__btn_up\"]')\r\n    this._buttonClose = this._view.querySelector('[data-element=\"basket__btn_delete\"]')\r\n    this._input.addEventListener('change', () => this.validation())\r\n    this._buttonDown.addEventListener('click', () => this.down())\r\n    this._buttonUp.addEventListener('click', () => this.up())\r\n    this.validation()\r\n  }\r\n\r\n  get value () {\r\n    return +this._input.value\r\n  }\r\n\r\n  set value (value) {\r\n    this._input.value = value\r\n  }\r\n\r\n  validation () {\r\n    this.value = Math.trunc(this.value)\r\n    if (this.value === 0) this.value = 1\r\n    else this.value = Math.abs(this.value)\r\n    if (this.value === 1) this.hideDown()\r\n    else this.showDown()\r\n  }\r\n\r\n  hideDown () {\r\n    this._buttonDown.style.display = 'none'\r\n    this.showClose()\r\n  }\r\n\r\n  showDown () {\r\n    this._buttonDown.style.display = 'block'\r\n    this.hideClose()\r\n  }\r\n\r\n  hideClose () {\r\n    this._buttonClose.style.display = 'none'\r\n  }\r\n\r\n  showClose () {\r\n    this._buttonClose.style.display = 'block'\r\n  }\r\n\r\n  down () {\r\n    if (this._step) {\r\n      this.value = (this.value - this._step).toFixed(2)\r\n    } else {\r\n      this.value -= 1\r\n    }\r\n    if (this.value <= 1) {\r\n      this.hideDown()\r\n      this.value = 1\r\n    }\r\n    refreshPrice()\r\n  }\r\n\r\n  up () {\r\n    if (this._step) {\r\n      this.value = (this.value + this._step).toFixed(2)\r\n    } else {\r\n      this.value += 1\r\n    }\r\n    if (this.value > 1) this.showDown()\r\n    refreshPrice()\r\n  }\r\n}\r\n","const headerCatalogBtn = document.querySelector('[data-element=\"header__catalog\"]')\r\n\r\nif (headerCatalogBtn) setTimeout(headerCatalogBtnInit, 0)\r\n\r\nfunction headerCatalogBtnInit () {\r\n\r\n  const catalogModal = document.querySelector('[data-element=\"catalog-modal\"]')\r\n  const header = document.querySelector('[data-element=\"header\"]')\r\n  const headerLayer = document.querySelector('[data-element=\"header__layer\"]')\r\n\r\n  const catalogModalItemArray = catalogModal.querySelectorAll('[data-category=\"true\"]')\r\n  const categoryCapLinkArray = catalogModal.querySelectorAll('[data-element=\"category-cap__link\"]')\r\n  const categoryCapLinkArrayAll = catalogModal.querySelectorAll('[data-category-cap-link-all=\"true\"]')\r\n  const catalogModalBack = catalogModal.querySelector('[data-element=\"category-cap__back\"]')\r\n  const catalogModalList = catalogModal.querySelector('[data-element=\"category-cap__list\"]')\r\n  const catalogModalListModal = catalogModal.querySelector('[data-element=\"catalog-modal__list_modal\"]')\r\n\r\n  for (let i = 0; i < categoryCapLinkArray.length; i++) {\r\n    categoryCapLinkArray[i].addEventListener(\"click\", openInnerCategories2)\r\n  }\r\n\r\n  function openInnerCategories2() {\r\n    hideAllLink()\r\n    const id = this.getAttribute(\"data-category-cap-link-id\")\r\n    const currentLinkList = catalogModal.querySelectorAll('[data-inner-category-id-2=\"' + id + '\"]')\r\n    for (let i = 0; i < currentLinkList.length; i++) {\r\n      currentLinkList[i].classList.remove(\"category-cap__link_hidden\")\r\n    }\r\n    catalogModalBack.setAttribute(\"category3\", \"true\")\r\n    catalogModalBack.setAttribute(\"id\", id)\r\n  }\r\n\r\n  for (let i = 0; i < catalogModalItemArray.length; i++) {\r\n    catalogModalItemArray[i].addEventListener(\"click\", openInnerCategories)\r\n  }\r\n\r\n  catalogModalBack.addEventListener(\"click\", closeInnerCategories)\r\n\r\n  function openInnerCategories() {\r\n    const id = this.getAttribute(\"data-category-id\")\r\n    const currentLinkList = catalogModal.querySelectorAll('[data-inner-category-id-1=\"' + id + '\"]')\r\n    for (let i = 0; i < currentLinkList.length; i++) {\r\n      currentLinkList[i].classList.remove(\"category-cap__link_hidden\")\r\n    }\r\n    catalogModalBack.classList.add(\"category-cap__back_active\")\r\n\r\n    hideMainCategory()\r\n    catalogModalList.classList.remove(\"category-cap__list_hidden\")\r\n  }\r\n\r\n  function hideMainCategory() {\r\n    catalogModalListModal.classList.add(\"catalog-modal__list_hidden\")\r\n  }\r\n\r\n  function showMainCategory() {\r\n    catalogModalListModal.classList.remove(\"catalog-modal__list_hidden\")\r\n  }\r\n\r\n  function closeInnerCategories() {\r\n    if (catalogModalBack.getAttribute(\"category3\")) {\r\n      const id = catalogModalBack.getAttribute(\"id\")\r\n      const currentLink = catalogModal.querySelector('[data-category-cap-link-id=\"' + id + '\"]')\r\n      const searchId = currentLink.getAttribute(\"data-inner-category-id-1\")\r\n      const currentLinkList2 = catalogModal.querySelectorAll('[data-inner-category-id-1=\"' + searchId + '\"]')\r\n      hideAllLink()\r\n      for (let i = 0; i < currentLinkList2.length; i++) {\r\n        currentLinkList2[i].classList.remove(\"category-cap__link_hidden\")\r\n      }\r\n      catalogModalBack.removeAttribute(\"category3\")\r\n    } else {\r\n      showMainCategory()\r\n      catalogModalList.classList.add(\"category-cap__list_hidden\")\r\n      catalogModalBack.classList.remove(\"category-cap__back_active\")\r\n      hideAllLink()\r\n    }\r\n  }\r\n\r\n  function hideAllLink() {\r\n    for (let i = 0; i < categoryCapLinkArrayAll.length; i++) {\r\n      categoryCapLinkArrayAll[i].classList.add(\"category-cap__link_hidden\")\r\n    }\r\n  }\r\n\r\n  headerLayer.addEventListener(\"click\", closeCatalog)\r\n\r\n  headerCatalogBtn.addEventListener(\"click\", toggleCatalog)\r\n\r\n  function toggleCatalog() {\r\n    if (headerCatalogBtn.classList.contains(\"header__catalog_active\")) {\r\n      closeCatalog()\r\n    } else {\r\n      openCatalog()\r\n    }\r\n  }\r\n\r\n  function openCatalog () {\r\n    headerCatalogBtn.classList.add(\"header__catalog_active\")\r\n    header.classList.add(\"header_catalog-active\")\r\n    headerLayer.classList.add(\"header__layer_active\")\r\n    openHeaderCatalog()\r\n  }\r\n\r\n  function closeCatalog () {\r\n    headerCatalogBtn.classList.remove(\"header__catalog_active\")\r\n    header.classList.remove(\"header_catalog-active\")\r\n    headerLayer.classList.remove(\"header__layer_active\")\r\n    closeHeaderCatalog()\r\n  }\r\n\r\n  function closeHeaderCatalog () {\r\n    catalogModal.classList.remove(\"catalog-modal_opacity-active\")\r\n    setTimeout(displayHide, 200)\r\n\r\n    function displayHide () {\r\n      catalogModal.classList.remove(\"catalog-modal_display-active\")\r\n    }\r\n  }\r\n\r\n  function openHeaderCatalog () {\r\n    catalogModal.classList.add(\"catalog-modal_display-active\")\r\n    setTimeout(opacityActive, 0)\r\n\r\n    function opacityActive () {\r\n      catalogModal.classList.add(\"catalog-modal_opacity-active\")\r\n    }\r\n  }\r\n}\r\n","const sidebarFilter = document.querySelector('[data-element=\"category__filters\"]')\r\n\r\nif (sidebarFilter) {\r\n  setTimeout(sidebarFilterInit, 0)\r\n}\r\n\r\nfunction sidebarFilterInit () {\r\n\r\n  const categoryCheckboxBoxArray = sidebarFilter.querySelectorAll('[data-element=\"category__checkbox-box\"]')\r\n  for (let i = 0; i < categoryCheckboxBoxArray.length; i++) {\r\n    categoryCheckboxBoxInit(categoryCheckboxBoxArray[i])\r\n  }\r\n\r\n  const openButton = document.querySelector('[data-element=\"category-cap__filters-open\"]')\r\n  const layer = document.getElementsByClassName('category__filters-layer')[0]\r\n  const buttonClose = sidebarFilter.getElementsByClassName('category__filters-close')[0]\r\n  const doubleInputs = sidebarFilter.querySelectorAll('[data-element=\"category__double-price\"]')\r\n\r\n  doubleInputs.forEach(filterBlockInit)\r\n\r\n  function filterBlockInit (block) {\r\n    const minInput = block.querySelector('[data-element=\"category__double-input_start\"]')\r\n    const maxInput = block.querySelector('[data-element=\"category__double-input_end\"]')\r\n\r\n    minInput.addEventListener('input', checkDoubleValue)\r\n    maxInput.addEventListener('input', checkDoubleValue)\r\n\r\n    function checkDoubleValue () {\r\n      isValidDoubleIInput(minInput, maxInput)\r\n    }\r\n  }\r\n\r\n  function isValidDoubleIInput (start, end) {\r\n    if (+start.value > +end.value) {\r\n      start.classList.add('category__double-input_error')\r\n      end.classList.add('category__double-input_error')\r\n      return false\r\n    }\r\n    start.classList.remove('category__double-input_error')\r\n    end.classList.remove('category__double-input_error')\r\n    return true\r\n  }\r\n\r\n  sidebarFilter.addEventListener('submit', checkSubmit)\r\n\r\n  function checkSubmit (event) {\r\n    if (notValidInputs()) return event.preventDefault()\r\n  }\r\n\r\n  function notValidInputs () {\r\n    const invalidInputs = sidebarFilter.getElementsByClassName('category__double-input_error')\r\n    return !!invalidInputs.length\r\n  }\r\n\r\n  openButton.addEventListener('click', showFilter)\r\n\r\n  function showFilter () {\r\n    layer.classList.add('category__filters-layer_active')\r\n    sidebarFilter.classList.add('category__filters_active')\r\n  }\r\n\r\n  layer.addEventListener('click', hideFilter)\r\n  buttonClose.addEventListener('click', hideFilter)\r\n\r\n  function hideFilter () {\r\n    layer.classList.remove('category__filters-layer_active')\r\n    sidebarFilter.classList.remove('category__filters_active')\r\n  }\r\n}\r\n\r\nfunction categoryCheckboxBoxInit (box) {\r\n  const categoryCheckboxList = box.querySelector('[data-element=\"category__checkbox-list\"]')\r\n  const categoryCheckboxLabelArray = categoryCheckboxList.querySelectorAll('[data-element=\"category__checkbox-label\"]')\r\n  if (categoryCheckboxLabelArray.length < 10) {\r\n    const categoryCheckboxMore = box.querySelector('[data-element=\"category__checkbox-more\"]')\r\n    categoryCheckboxMore.style.display = \"none\"\r\n    return\r\n  }\r\n\r\n  const categoryCheckboxMore = box.querySelector('[data-element=\"category__checkbox-more\"]')\r\n  categoryCheckboxMore.addEventListener('click', toggleList)\r\n  hideList(categoryCheckboxMore)\r\n\r\n  function toggleList () {\r\n    if (this.classList.contains(\"category__checkbox-more_active\")) {\r\n      hideList(this)\r\n    } else {\r\n      this.classList.add(\"category__checkbox-more_active\")\r\n      for (let i = 0; i < categoryCheckboxLabelArray.length; i++) {\r\n        categoryCheckboxLabelArray[i].classList.remove(\"category__checkbox-label_hidden\")\r\n      }\r\n      this.textContent = \"Скрыть\"\r\n    }\r\n  }\r\n\r\n  function hideList (btn) {\r\n    btn.classList.remove(\"category__checkbox-more_active\")\r\n    for (let i = 10; i < categoryCheckboxLabelArray.length; i++) {\r\n      categoryCheckboxLabelArray[i].classList.add(\"category__checkbox-label_hidden\")\r\n    }\r\n    btn.textContent = `Ещё ${categoryCheckboxLabelArray.length - 5}`\r\n  }\r\n}\r\n","const contactsMap = document.querySelector('[data-element=\"contacts-map\"]')\r\n\r\nif (contactsMap) setTimeout(contactsMapInit, 0)\r\n\r\nfunction contactsMapInit () {\r\n  const contactsMapShowInfoArray = contactsMap.querySelectorAll('[data-element=\"contacts-map__show-info\"]')\r\n\r\n  for (let i = 0; i < contactsMapShowInfoArray.length; i++) {\r\n    contactsMapShowInfoArray[i].addEventListener('click', toggleInfoList)\r\n  }\r\n\r\n  initMap()\r\n}\r\n\r\nfunction toggleInfoList() {\r\n  const infoList = this.previousElementSibling\r\n  if (infoList.classList.contains('contacts-map__info_active')) {\r\n    infoList.classList.remove('contacts-map__info_active')\r\n    this.classList.remove(\"contacts-map__show-info_active\")\r\n    this.textContent = \"Показать фото и описание пункта\"\r\n  } else {\r\n    infoList.classList.add('contacts-map__info_active')\r\n    this.classList.add(\"contacts-map__show-info_active\")\r\n    this.textContent = \"Скрыть описание\"\r\n  }\r\n}\r\n\r\n// async function initMap () {\r\n//   const map = document.getElementById(`contacts-map__map`)\r\n//   const centerCoords = map.getAttribute('data-coords-center')\r\n//\r\n//   const script = document.createElement(\"script\")\r\n//   const body = document.getElementsByTagName(\"body\")[0]\r\n//   body.append(script)\r\n//   script.addEventListener('load', scriptLoaded)\r\n//   script.src = \"https://api-maps.yandex.ru/2.1/?lang=ru_RU\"\r\n//\r\n//   function scriptLoaded() {\r\n//     createMap(centerCoords)\r\n//   }\r\n// }\r\n\r\nasync function createMap(centerCoords) {\r\n  ymaps.ready(init);\r\n\r\n  async function init() {\r\n    const zoom = window.innerWidth > 950 ? 14 : 15\r\n    console.log(JSON.parse(centerCoords))\r\n    var myMap = new ymaps.Map(`contacts-map__map`, {\r\n      center: JSON.parse(centerCoords),\r\n      zoom: zoom\r\n    });\r\n\r\n    // const modalOrderMapItemArray = document.querySelectorAll('[data-element=\"contacts-map__item\"]')\r\n    // for (let i = 0; i < modalOrderMapItemArray.length; i++) {\r\n    //   createPlacemark(modalOrderMapItemArray[i])\r\n    // }\r\n    //\r\n    // function createPlacemark (item) {\r\n    //   const coords = JSON.parse(item.getAttribute('data-coords'))\r\n    //   const caption = item.getAttribute('data-map-caption')\r\n    //   const placemark = new ymaps.Placemark(coords, {\r\n    //     iconCaption: caption\r\n    //   })\r\n    //   myMap.geoObjects.add(placemark)\r\n    // }\r\n\r\n    const modalOrderMapAddressArray = document.querySelectorAll('[data-element=\"contacts-map__address\"]')\r\n    for (let i = 0; i < modalOrderMapAddressArray.length; i++) {\r\n      modalOrderMapAddressArray[i].addEventListener(\"click\", setMapCenter)\r\n    }\r\n\r\n    function setMapCenter () {\r\n      const centerCoords = JSON.parse(this.parentElement.getAttribute(\"data-coords\"))\r\n      myMap.setCenter(centerCoords)\r\n    }\r\n  }\r\n}\r\n\r\nfunction initMap () {\r\n  const map = document.getElementById(`contacts-map__map`)\r\n  const centerMap = map.getAttribute('data-coords-center')\r\n  const zoom = window.innerWidth > 950 ? 5 : 3\r\n\r\n  loadMap()\r\n\r\n  function loadMap () {\r\n    const mapScript = document.createElement('script')\r\n\r\n    mapScript.src = 'https://api-maps.yandex.ru/2.1/?lang=ru_RU'\r\n    document.body.appendChild(mapScript)\r\n\r\n    mapScript.addEventListener('load', function () {\r\n      ymaps.ready(contactMapInit)\r\n    })\r\n  }\r\n\r\n  function contactMapInit () {\r\n    let myMap\r\n    const zoom = window.innerWidth > 950 ? 14 : 15\r\n    myMap = new ymaps.Map('contacts-map__map', {\r\n      center: JSON.parse(centerMap),\r\n      zoom: zoom\r\n    })\r\n\r\n    const modalOrderMapItemArray = document.querySelectorAll('[data-element=\"contacts-map__item\"]')\r\n    for (let i = 0; i < modalOrderMapItemArray.length; i++) {\r\n      createPlacemark(modalOrderMapItemArray[i])\r\n    }\r\n\r\n    function createPlacemark (item) {\r\n      const coords = JSON.parse(item.getAttribute('data-coords'))\r\n      const caption = item.getAttribute('data-map-caption')\r\n      const placemark = new ymaps.Placemark(coords, {\r\n        iconCaption: caption\r\n      })\r\n      myMap.geoObjects.add(placemark)\r\n    }\r\n\r\n    const modalOrderMapAddressArray = document.querySelectorAll('[data-element=\"contacts-map__address\"]')\r\n    for (let i = 0; i < modalOrderMapAddressArray.length; i++) {\r\n      modalOrderMapAddressArray[i].addEventListener(\"click\", setMapCenter)\r\n    }\r\n\r\n    function setMapCenter () {\r\n      const centerCoords = JSON.parse(this.parentElement.getAttribute(\"data-coords\"))\r\n      myMap.setCenter(centerCoords)\r\n    }\r\n  }\r\n}\r\n","const createPasswordForm = document.querySelector('[data-element=\"create-password__form\"]')\r\n\r\nif (createPasswordForm) setTimeout(createPasswordFormInit, 0)\r\n\r\nfunction createPasswordFormInit () {\r\n  const password1 = createPasswordForm.querySelector('[data-element=\"password1\"]')\r\n  const password2 = createPasswordForm.querySelector('[data-element=\"password2\"]')\r\n  const createPasswordSubmit = createPasswordForm.querySelector('[data-element=\"create-password__submit\"]')\r\n\r\n  createPasswordForm.addEventListener(\"input\", validateForm)\r\n\r\n  function validateForm () {\r\n    if (password1.value === password2.value) {\r\n      createPasswordSubmit.disabled = false\r\n    } else {\r\n      createPasswordSubmit.disabled = true\r\n    }\r\n  }\r\n}\r\n","const delivery = document.querySelector('[data-element=\"delivery\"]')\r\n\r\nif (delivery) setTimeout(deliveryInit, 0)\r\n\r\nfunction deliveryInit () {\r\n  const deliveryNavItemArray = delivery.querySelectorAll('[data-element=\"delivery__nav-item\"]')\r\n  for (let i = 0; i < deliveryNavItemArray.length; i++) {\r\n    deliveryNavItemArray[i].addEventListener('click', toggleDeliverySection)\r\n  }\r\n}\r\n\r\nfunction toggleDeliverySection () {\r\n  if (this.classList.contains('delivery__nav-item_active')) return\r\n  const oldActiveItem = delivery.getElementsByClassName(\"delivery__nav-item_active\")[0]\r\n  if (oldActiveItem) oldActiveItem.classList.remove(\"delivery__nav-item_active\")\r\n  this.classList.add(\"delivery__nav-item_active\")\r\n  const oldActiveSection = document.getElementsByClassName(\"delivery-section_show\")[0]\r\n  if (oldActiveSection) oldActiveSection.classList.remove(\"delivery-section_show\")\r\n  const selector = this.getAttribute(\"data-show\")\r\n  const newActiveSection = document.querySelector('[data-element=\"' + selector + '\"]')\r\n  newActiveSection.classList.add(\"delivery-section_show\")\r\n}\r\n","const faq = document.querySelector('[data-element=\"faq\"]')\r\n\r\nif (faq) setTimeout(faqInit, 0)\r\n\r\nfunction faqInit () {\r\n  const faqSubtitles = faq.querySelectorAll('[data-element=\"faq__subtitle\"]')\r\n  for (let i = 0; i < faqSubtitles.length; i++) {\r\n    faqSubtitles[i].addEventListener(\"click\", toggleFaq)\r\n  }\r\n}\r\n\r\nfunction toggleFaq() {\r\n  if (this.classList.contains(\"faq__subtitle_active\")) {\r\n    this.classList.remove(\"faq__subtitle_active\")\r\n  } else {\r\n    this.classList.add(\"faq__subtitle_active\")\r\n  }\r\n}\r\n","const headerMobileBurger = document.querySelector('[data-element=\"header-mobile__burger\"]')\r\n\r\nif (headerMobileBurger) setTimeout(headerMobileBurgerInit, 0)\r\n\r\nfunction headerMobileBurgerInit () {\r\n  const headerFixed = document.querySelector('[data-element=\"header-fixed\"]')\r\n  const headerFixedClose = document.querySelector('[data-element=\"header-fixed__close\"]')\r\n  const headerLayer = document.querySelector('[data-element=\"header__layer\"]')\r\n\r\n  headerMobileBurger.addEventListener(\"click\", showFixedMenu)\r\n  headerFixedClose.addEventListener(\"click\", hideFixedMenu)\r\n  headerLayer.addEventListener(\"click\", hideFixedMenu)\r\n\r\n  function showFixedMenu () {\r\n    headerFixed.classList.add('header-fixed_active')\r\n    headerLayer.classList.add('header__layer_active')\r\n  }\r\n\r\n  function hideFixedMenu () {\r\n    headerFixed.classList.remove('header-fixed_active')\r\n    headerLayer.classList.remove('header__layer_active')\r\n  }\r\n}\r\n","import { createHeaderSearchMainBox, createTag } from \"../tools/CreateNodesForSearch\";\r\n\r\nconst dataArray = {\r\n  categories: [\r\n    { name: \"Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы Бензопилы Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы, Бензопилы Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы Бензопилы \", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } },\r\n    { name: \"Бензопилы Бензопилы Бензопилы\", link: \"#\", picture: { src32: \"https://via.placeholder.com/32x24\", srcset32: \"https://via.placeholder.com/32x24\", srcset64: \"https://via.placeholder.com/64x48\" } }\r\n  ],\r\n  products: [\r\n    {\r\n      link: '#',\r\n      discount: \"−23%\",\r\n      picture: {\r\n        src140: \"https://via.placeholder.com/140x140\",\r\n        srcset140: \"https://via.placeholder.com/140x140\", //это webp\r\n        srcset48: \"https://via.placeholder.com/48x48\", //это webp 1x\r\n        srcset96: \"https://via.placeholder.com/96x96\", //это webp 2x\r\n      },\r\n      price: 16,\r\n      priceOld: \"18 ₽\",\r\n      ratingFill: \"70%\",\r\n      ratingCount: 132,\r\n      availability: \"В наличии\",\r\n      text: \"Лента тефлоновая уплотнительная чёрная\"\r\n    },\r\n    {\r\n      link: '#',\r\n      picture: {\r\n        src140: \"https://via.placeholder.com/140x140\",\r\n        srcset140: \"https://via.placeholder.com/140x140\", //это webp\r\n        srcset48: \"https://via.placeholder.com/48x48\", //это webp 1x\r\n        srcset96: \"https://via.placeholder.com/96x96\", //это webp 2x\r\n      },\r\n      price: 32,\r\n      ratingFill: \"70%\",\r\n      ratingCount: 132,\r\n      availability: \"В наличии\",\r\n      text: \"Клей строительный\"\r\n    }\r\n  ],\r\n  productsCount: 5,\r\n  journalCount: 0,\r\n}\r\n\r\nconst headerSearchInput = document.querySelector('[data-element=\"header__search-input\"]')\r\n\r\nif (headerSearchInput) setTimeout(headerSearchInputInit, 0)\r\n\r\nfunction headerSearchInputInit () {\r\n  const header = document.querySelector('[data-element=\"header\"]')\r\n  const headerMobileSearch = document.querySelector('[data-element=\"header-mobile__search\"]')\r\n  const headerMobileSearchClose = document.querySelector('[data-element=\"header__search-close-mobile\"]')\r\n  const headerSearchBtnClose = document.querySelector('[data-element=\"header__search-btn_close\"]')\r\n  const headerSearch = document.querySelector('[data-element=\"header-search\"]')\r\n  const headerSearchForm = document.querySelector('[data-element=\"header__search-form\"]')\r\n  const headerCont = document.querySelector('[data-element=\"header-search__cont\"]')\r\n  const headerLayer = document.querySelector('[data-element=\"header__layer\"]')\r\n  const headerSearchYouLookingFor = document.querySelector('[data-element=\"header-search__you-looking-for\"]')\r\n\r\n  headerMobileSearch.addEventListener(\"click\", searchOpen)\r\n  headerMobileSearchClose.addEventListener(\"click\", searchHide)\r\n\r\n  headerSearchInput.addEventListener(\"focus\", searchOpen)\r\n  headerSearchBtnClose.addEventListener(\"click\", searchHide)\r\n  headerLayer.addEventListener(\"click\", searchHide)\r\n  headerSearchInput.addEventListener(\"input\", searchModalHide)\r\n\r\n  const linkRequest = headerSearchForm.action\r\n  let textSearch = headerSearchInput.value\r\n\r\n  headerSearchForm.addEventListener(\"submit\", saveSearchText)\r\n\r\n  function saveSearchText(event) {\r\n    event.preventDefault()\r\n\r\n    if (headerSearchInput.value) {\r\n      let savedSearchList = JSON.parse(localStorage.getItem(\"savedSearchList\"))\r\n      if (savedSearchList) {\r\n        if (savedSearchList.length < 3) {\r\n          savedSearchList[savedSearchList.length] = headerSearchInput.value\r\n        } else {\r\n          savedSearchList.unshift(headerSearchInput.value)\r\n          savedSearchList.pop()\r\n        }\r\n        localStorage.setItem(\"savedSearchList\", JSON.stringify(savedSearchList))\r\n      } else {\r\n        savedSearchList = JSON.stringify([headerSearchInput.value])\r\n        localStorage.setItem(\"savedSearchList\", savedSearchList)\r\n      }\r\n    }\r\n\r\n    event.currentTarget.submit()\r\n  }\r\n\r\n  const tileSearchItemArray = document.querySelectorAll('[data-element=\"tile-search__item\"]')\r\n  for (let i = 0; i < tileSearchItemArray.length; i++) {\r\n\r\n  }\r\n\r\n  function _eventKey (event) {\r\n    if (event.code === 'Escape') {\r\n      searchHide()\r\n    }\r\n  }\r\n\r\n  headerSearchInput.addEventListener('input', _eventInputForm)\r\n\r\n  function SearchAutoComplete (url, text, cb) {\r\n    const request = new XMLHttpRequest()\r\n    request.open('POST', url, true)\r\n    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8')\r\n    request.addEventListener('readystatechange', event => {\r\n      const response = event.currentTarget\r\n      if (response.readyState !== XMLHttpRequest.DONE) return false\r\n      if (response.status !== 200) return console.log('Error send form')\r\n      const dataArray = JSON.parse(response.response)\r\n      cb(dataArray, headerCont)\r\n    })\r\n    request.send(`query=${text}`)\r\n  }\r\n\r\n  function _eventInputForm (event) {\r\n    textSearch = event.target.value\r\n    timeOut(textSearch)\r\n  }\r\n\r\n  function timeOut (text) {\r\n    setTimeout(() => {\r\n      if (text === textSearch) SearchAutoComplete(linkRequest, text, createHeaderSearchMainBox)\r\n    }, 300)\r\n  }\r\n\r\n  function searchOpen () {\r\n    document.addEventListener('keydown', _eventKey)\r\n    header.classList.add(\"header_search-active\")\r\n    headerSearch.classList.add(\"header-search_active\")\r\n    headerSearchInput.focus()\r\n    headerLayer.classList.add(\"header__layer_active\")\r\n  }\r\n\r\n  function createListYouLookingFor() {\r\n    let savedSearchList = JSON.parse(localStorage.getItem(\"savedSearchList\"))\r\n\r\n    if (savedSearchList) {\r\n      const headerSearchList = createTag('div', ['header-search__list'])\r\n      for (let i = 0; i < savedSearchList.length; i++) {\r\n        const headerSearchLink = createTag('a', ['header-search__link', 'text'], savedSearchList[i])\r\n        headerSearchLink.addEventListener('click', submitYouLookingFor)\r\n        headerSearchList.appendChild(headerSearchLink)\r\n      }\r\n      const headerSearchNote = document.getElementsByClassName(\"header-search__note\")[0]\r\n      headerSearchNote.after(headerSearchList)\r\n    }\r\n  }\r\n\r\n  function submitYouLookingFor(event) {\r\n    const text = event.currentTarget.textContent\r\n    headerSearchInput.value = text\r\n    headerSearchForm.submit()\r\n  }\r\n\r\n  createListYouLookingFor()\r\n\r\n  function searchHide() {\r\n    document.removeEventListener('keydown', _eventKey)\r\n    header.classList.remove(\"header_search-active\")\r\n    headerSearch.classList.remove(\"header-search_active\")\r\n    headerLayer.classList.remove(\"header__layer_active\")\r\n    headerSearchInput.blur()\r\n  }\r\n\r\n  function searchModalHide() {\r\n    headerSearchYouLookingFor.classList.add(\"header-search__you-looking-for_hidden\")\r\n  }\r\n}\r\n","const indexCap = document.querySelector('[data-element=\"index-cap\"]')\r\n\r\nif (indexCap) setTimeout(indexCapInit, 0)\r\n\r\nfunction indexCapInit() {\r\n  let activeIndex = 0\r\n\r\n  const indexCapArrowNext = indexCap.querySelector('[data-element=\"index-cap__arrow_next\"]')\r\n  const indexCapArrowPrev = indexCap.querySelector('[data-element=\"index-cap__arrow_prev\"]')\r\n\r\n  const indexCapPictures = indexCap.querySelectorAll('[data-element=\"index-cap__picture\"]')\r\n\r\n  indexCapArrowNext.addEventListener(\"click\", nextSlide)\r\n  indexCapArrowPrev.addEventListener(\"click\", prevSlide)\r\n\r\n  const indexCapNavItems = indexCap.querySelectorAll('[data-element=\"index-cap__nav-item\"]')\r\n\r\n  for (let i = 0; i < indexCapNavItems.length; i++) {\r\n    indexCapNavItems[i].addEventListener(\"click\", checkoutNavItem)\r\n  }\r\n\r\n  function checkoutNavItem () {\r\n    const oldActive = indexCap.getElementsByClassName(\"index-cap__nav-item_active\")[0]\r\n    if (oldActive) oldActive.classList.remove(\"index-cap__nav-item_active\")\r\n    this.classList.add(\"index-cap__nav-item_active\")\r\n    const id = this.getAttribute(\"data-id\")\r\n    checkoutSlide(id)\r\n  }\r\n\r\n  function checkoutSlide (index) {\r\n    activeIndex = index\r\n    const oldActive = indexCap.getElementsByClassName(\"index-cap__picture_active\")[0]\r\n    if (oldActive) oldActive.classList.remove(\"index-cap__picture_active\")\r\n    indexCapPictures[activeIndex].classList.add(\"index-cap__picture_active\")\r\n  }\r\n\r\n  function nextSlide () {\r\n    activeIndex = ++activeIndex\r\n    if (activeIndex === indexCapPictures.length) {\r\n      activeIndex = 0\r\n    }\r\n    checkNavItem(activeIndex)\r\n    checkoutSlide(activeIndex)\r\n  }\r\n\r\n  function prevSlide () {\r\n    activeIndex = --activeIndex\r\n    if (activeIndex === -1) {\r\n      activeIndex = indexCapPictures.length - 1\r\n    }\r\n    checkNavItem(activeIndex)\r\n    checkoutSlide(activeIndex)\r\n  }\r\n\r\n  function checkNavItem (activeIndex) {\r\n    const oldActive = indexCap.getElementsByClassName(\"index-cap__nav-item_active\")[0]\r\n    if (oldActive) oldActive.classList.remove(\"index-cap__nav-item_active\")\r\n    indexCapNavItems[activeIndex].classList.add(\"index-cap__nav-item_active\")\r\n  }\r\n}\r\n","import {Basket} from \"../tools/Basket\"\r\nimport { addProductInFavorites, deleteProductFromFavorites } from \"../tools/FavoritePosts\";\r\n\r\nconst modalBasket = document.querySelector('[data-element=\"modal-basket\"]')\r\n\r\nif (modalBasket) setTimeout(modalBasketInit, 0)\r\n\r\nfunction modalBasketInit () {\r\n  const counterElement = document.querySelector('[data-element=\"modal-basket__counter\"]')\r\n\r\n  new InputCount(counterElement)\r\n  new Product(modalBasket)\r\n}\r\n\r\nclass Product {\r\n  constructor(productElement) {\r\n    this._view = productElement\r\n    this._buttonRemove = this.view.querySelector('[data-element=\"modal-basket__counter-button_delete\"]')\r\n    this._buttonRemove.addEventListener('click', () => { this.remove() })\r\n    this._buttonFavorite = this.view.querySelector('[data-element=\"modal-basket__button_like\"]')\r\n    this._buttonFavorite.addEventListener('click', () => { this.toggleFavorites() })\r\n  }\r\n\r\n  toggleFavorites() {\r\n    const id = this._buttonFavorite.getAttribute(\"data-id\")\r\n    if (this._buttonFavorite.classList.contains('modal-basket__button_like-active')) {\r\n      deleteProductFromFavorites(this._buttonFavorite, id, 'modal-basket__button_like-active')\r\n    } else {\r\n      addProductInFavorites(this._buttonFavorite, id, 'modal-basket__button_like-active')\r\n    }\r\n  }\r\n\r\n  get view () {\r\n    return this._view\r\n  }\r\n\r\n  get count () {\r\n    return this._count\r\n  }\r\n\r\n  set count (count) {\r\n    this._count = count\r\n  }\r\n\r\n  remove () {\r\n    const dataId = this._buttonRemove.getAttribute(\"data-id\")\r\n    Basket.removeProduct(dataId)\r\n    modalBasket.getElementsByClassName('modal-box__close')[0].click()\r\n    try {\r\n      const buttonBasket = document.querySelector('[data-element=\"product__buy-button\"]')\r\n      buttonBasket.classList.remove('product__buy-button_add')\r\n      buttonBasket.innerText = 'Заказать'\r\n      buttonBasket.setAttribute(\"data-modal-box\", \"true\")\r\n      buttonBasket.addEventListener('click', addProductInBasket)\r\n    } catch (e) {\r\n      console.dir(e)\r\n    }\r\n  }\r\n}\r\n\r\nclass InputCount {\r\n  constructor(countElement) {\r\n    this._view = countElement\r\n    this._input = this._view.querySelector('[data-element=\"modal-basket__counter-number\"]')\r\n    this._step = +this._input.getAttribute('data-step')\r\n    this._buttonDown = this._view.querySelector('[data-element=\"modal-basket__count-button_down\"]')\r\n    this._buttonUp = this._view.querySelector('[data-element=\"modal-basket__count-button_up\"]')\r\n    this._buttonRemove = this._view.querySelector('[data-element=\"modal-basket__counter-button_delete\"]')\r\n    this._buttonRemove.addEventListener('click', () => { this.remove() })\r\n    this._input.addEventListener('change', () => this.validation())\r\n    this._buttonDown.addEventListener('click', () => this.down())\r\n    this._buttonUp.addEventListener('click', () => this.up())\r\n    this.validation()\r\n  }\r\n\r\n  remove () {\r\n    const dataId = this._buttonRemove.getAttribute(\"data-id\")\r\n    Basket.removeProduct(dataId)\r\n    const closeBtn = document.getElementsByClassName(\"modal-box__close\")[0]\r\n    closeBtn.click()\r\n  }\r\n\r\n  get value () {\r\n    return +this._input.value\r\n  }\r\n\r\n  set value (value) {\r\n    this._input.value = value\r\n  }\r\n\r\n  validation () {\r\n    this.value = Math.trunc(this.value)\r\n    if (this.value <= 1) this.hideDown()\r\n    else this.showDown()\r\n  }\r\n\r\n  hideDown () {\r\n    this._buttonDown.style.display = 'none'\r\n    this.showClose()\r\n  }\r\n\r\n  showDown () {\r\n    this._buttonDown.style.display = 'block'\r\n    this.hideClose()\r\n  }\r\n\r\n  hideClose () {\r\n    this._buttonRemove.style.display = 'none'\r\n  }\r\n\r\n  showClose () {\r\n    this._buttonRemove.style.display = 'block'\r\n  }\r\n\r\n  down () {\r\n    if (this._step) {\r\n      this.value -= this._step.toFixed(2)\r\n    } else {\r\n      this.value -= 1\r\n    }\r\n    if (this.value <= 1) {\r\n      this.hideDown()\r\n      this.value = 1\r\n    }\r\n  }\r\n\r\n  up () {\r\n    if (this._step) {\r\n      this.value = (this.value + this._step).toFixed(2)\r\n    } else {\r\n      this.value += 1\r\n    }\r\n    if (this.value > 1) this.showDown()\r\n  }\r\n}\r\n\r\nconst buttonBasket = document.querySelector('[data-element=\"product__button-basket\"]')\r\n\r\nif (buttonBasket) setTimeout(initProductBasket, 0)\r\nlet productId\r\n\r\nfunction initProductBasket () {\r\n  productId = +buttonBasket.getAttribute(\"data-id\")\r\n  const inBasket = Basket.checkProduct(productId)\r\n\r\n  if (inBasket) {\r\n    buttonBasket.removeAttribute(\"data-modal-box\")\r\n    return activateClassFromButtonBasket()\r\n  }\r\n\r\n  try {\r\n    buttonBasket.addEventListener('click', addProductInBasket)\r\n  } catch (e) {\r\n    console.dir(e)\r\n  }\r\n}\r\n\r\nfunction addProductInBasket (event) {\r\n  // event.preventDefault()\r\n\r\n  Basket.addProduct(\r\n    productId,\r\n    () => {\r\n      console.log('Ошибка')\r\n    },\r\n    () => {\r\n      try {\r\n        buttonBasket.removeEventListener('click', addProductInBasket)\r\n      } catch (e) {\r\n        console.dir(e)\r\n      }\r\n\r\n      activateClassFromButtonBasket()\r\n      buttonBasket.removeAttribute(\"data-modal-box\")\r\n    }\r\n  )\r\n  activateClassFromButtonBasket()\r\n}\r\n\r\nfunction activateClassFromButtonBasket () {\r\n  try {\r\n    buttonBasket.classList.add('product__buy-button_add')\r\n    const count = Basket.getCountProducts()\r\n    const tovar = morph(count)\r\n    buttonBasket.innerText = `${count} ${tovar} в корзине`\r\n  } catch (e) {\r\n    console.dir(e)\r\n  }\r\n}\r\n\r\nfunction morph(int, array) {\r\n  return (array = array || ['товар', 'товара', 'товаров']) && array[(int % 100 > 4 && int % 100 < 20) ? 2 : [2, 0, 1, 1, 1, 2][(int % 10 < 5) ? int % 10 : 5]];\r\n}\r\n","const modalBoxButtons = document.querySelectorAll('[data-modal-box=\"true\"]')\r\n\r\nif (modalBoxButtons.length) setTimeout(modalBoxButtonsInit, 0)\r\n\r\nfunction modalBoxButtonsInit() {\r\n  for (let i = 0; i < modalBoxButtons.length; i++) {\r\n    modalBoxButtons[i].addEventListener('click', openModal)\r\n  }\r\n}\r\n\r\nfunction openModal(event) {\r\n  event.preventDefault()\r\n\r\n  const href = this.getAttribute(\"data-src\")\r\n\r\n  const modal = document.getElementById(href.slice(1))\r\n  const buttonClose = modal.querySelector('[data-role=\"modal-box__close\"]')\r\n  const layer = modal.querySelector('[data-role=\"modal-box__layer\"]')\r\n\r\n  buttonClose.addEventListener(\"click\", closeModal)\r\n  layer.addEventListener(\"click\", closeModal)\r\n\r\n  function closeModal() {\r\n    modal.classList.remove(\"modal-box_opacity\")\r\n    setTimeout(hideDisplay, 300)\r\n  }\r\n\r\n  function hideDisplay() {\r\n    modal.classList.remove(\"modal-box_display\")\r\n  }\r\n\r\n  modal.classList.add(\"modal-box_display\")\r\n  setTimeout(showOpacity, 0)\r\n\r\n  function showOpacity() {\r\n    modal.classList.add(\"modal-box_opacity\")\r\n  }\r\n}\r\n\r\n\r\n","const modalCourier = document.getElementById(\"modal-courier\")\r\n\r\nif (modalCourier) setTimeout(modalCourierInit, 0)\r\n\r\nfunction modalCourierInit () {\r\n  const modalCourierButton = modalCourier.querySelector('[data-element=\"modal-courier__button\"]')\r\n  const requiredInputArray = modalCourier.querySelectorAll('[required]')\r\n  for (let i = 0; i < requiredInputArray.length; i++) {\r\n    requiredInputArray[i].addEventListener('input', validateReauiredInputs)\r\n  }\r\n\r\n  validateReauiredInputs()\r\n\r\n  function validateReauiredInputs() {\r\n    modalCourierButton.disabled = false\r\n    for (let i = 0; i < requiredInputArray.length; i++) {\r\n      requiredInputArray[i].classList.remove(\"input_wrong\")\r\n    }\r\n    for (let i = 0; i < requiredInputArray.length; i++) {\r\n      if (!requiredInputArray[i].value) {\r\n        requiredInputArray[i].classList.add(\"input_wrong\")\r\n        modalCourierButton.disabled = true\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  const modalCourierBoxSelectArray = modalCourier.querySelectorAll('[data-element=\"modal-courier__box_select\"]')\r\n  for (let i = 0; i < modalCourierBoxSelectArray.length; i++) {\r\n    selectInit(modalCourierBoxSelectArray[i])\r\n    modalCourierBoxSelectArray[i].addEventListener(\"click\", toggleSelectShow)\r\n  }\r\n\r\n  function toggleSelectShow() {\r\n    const oldActive = modalCourier.getElementsByClassName(\"modal-courier__list-box_active\")[0]\r\n    if (oldActive) oldActive.classList.remove(\"modal-courier__list-box_active\")\r\n    const listBox = this.parentElement.getElementsByClassName(\"modal-courier__list-box\")[0]\r\n    listBox.classList.add(\"modal-courier__list-box_active\")\r\n    window.addEventListener('click', removeListBox)\r\n  }\r\n\r\n  function removeListBox(event) {\r\n    if (!event.target.classList.contains(\"input-animate-placeholder\") && !event.target.classList.contains(\"modal-courier__input\")) {\r\n      const activeListBox = modalCourier.getElementsByClassName(\"modal-courier__list-box_active\")[0]\r\n      activeListBox.classList.remove(\"modal-courier__list-box_active\")\r\n      window.removeEventListener('click', removeListBox)\r\n    }\r\n  }\r\n\r\n  const modalCourierInputTextarea = modalCourier.querySelector('[data-element=\"comment\"]')\r\n  modalCourierInputTextarea.addEventListener('input', resizeTextarea)\r\n\r\n  function selectInit (block) {\r\n    const input = block.parentElement.getElementsByClassName(\"modal-courier__input\")[0]\r\n    const items = block.parentElement.querySelectorAll('[data-element=\"modal-courier__select-span\"]')\r\n    for (let i = 0; i < items.length; i++) {\r\n      items[i].addEventListener('click', toggleInput)\r\n    }\r\n    function toggleInput () {\r\n      if (!this.classList.contains(\"modal-courier__select-span_active\")) {\r\n        const oldActive = block.parentElement.getElementsByClassName(\"modal-courier__select-span_active\")[0]\r\n        oldActive.classList.remove(\"modal-courier__select-span_active\")\r\n        this.classList.add(\"modal-courier__select-span_active\")\r\n        input.value = this.textContent\r\n        const listBox = block.parentElement.getElementsByClassName(\"modal-courier__list-box\")[0]\r\n        listBox.classList.remove(\"modal-courier__list-box_active\")\r\n        window.removeEventListener('click', removeListBox)\r\n      }\r\n    }\r\n  }\r\n\r\n  function resizeTextarea () {\r\n    this.style.height = \"61px\"\r\n    this.style.height = (this.scrollHeight + 5)+\"px\";\r\n  }\r\n}\r\n\r\n\r\n\r\n","const orderItemMapArray = document.querySelectorAll('[data-element=\"order__item_map\"]')\r\n\r\nif (orderItemMapArray) setTimeout(orderItemMapArrayInit, 0)\r\n\r\nfunction orderItemMapArrayInit () {\r\n  for (let i = 0; i < orderItemMapArray.length; i++) {\r\n    orderItemMapArray[i].addEventListener(\"click\", initMap, {once: true})\r\n  }\r\n}\r\n\r\nasync function initMap () {\r\n  const mod = this.getAttribute(\"data-mod\")\r\n  const map = document.getElementById(`modal-order-map__map_${mod}`)\r\n  const centerCoords = map.getAttribute('data-coords-center')\r\n  const oldScript = document.getElementsByClassName(\"map-script\")[0]\r\n  if (oldScript) {\r\n    createMap(mod, centerCoords)\r\n    return\r\n  }\r\n\r\n  const script = document.createElement(\"script\")\r\n  script.classList.add(\"map-script\")\r\n  const body = document.getElementsByTagName(\"body\")[0]\r\n  body.append(script)\r\n  script.addEventListener('load', scriptLoaded)\r\n  script.src = \"https://api-maps.yandex.ru/2.1/?lang=ru_RU\"\r\n\r\n  function scriptLoaded() {\r\n    createMap(mod, centerCoords)\r\n  }\r\n}\r\n\r\nconst modalOrderMapItemArray = document.querySelectorAll('[data-element=\"modal-order-map__item\"]')\r\nfor (let i = 0; i < modalOrderMapItemArray.length; i++) {\r\n  buttonInit(modalOrderMapItemArray[i])\r\n}\r\n\r\nasync function createMap(mod, centerCoords) {\r\n  ymaps.ready(init);\r\n\r\n  async function init() {\r\n    const zoom = window.innerWidth > 950 ? 14 : 15\r\n    var myMap = new ymaps.Map(`modal-order-map__map_${mod}`, {\r\n      center: JSON.parse(centerCoords),\r\n      zoom: zoom\r\n    });\r\n\r\n    const mapNode = document.getElementById(`modal-order-map__map_${mod}`)\r\n    const modalOrderMapButtonArray = mapNode.parentElement.querySelectorAll('[data-element=\"modal-order-map__button\"]')\r\n    for (let i = 0; i < modalOrderMapButtonArray.length; i++) {\r\n      modalOrderMapButtonArray[i].addEventListener(\"click\", chooseAddress)\r\n    }\r\n\r\n    function chooseAddress () {\r\n      const resultArray = JSON.parse(this.parentElement.getAttribute(\"data-result\"))\r\n      const resultAddress = this.parentElement.getAttribute(\"data-result-address\")\r\n      const orderDeliveryResultPickup = document.querySelector('[data-element=\"order__delivery-result_pickup\"]')\r\n      const text = orderDeliveryResultPickup.getElementsByClassName(\"order__text\")[0]\r\n      const spanArray = orderDeliveryResultPickup.getElementsByClassName(\"order__span\")\r\n      text.textContent = resultAddress\r\n      for (let i = 0; i < spanArray.length; i++) {\r\n        spanArray[i].textContent = resultArray[i]\r\n      }\r\n\r\n      const modal = document.getElementById(`modal-${mod}`)\r\n      const closeBtn = modal.querySelector('[data-role=\"modal-box__close\"]')\r\n\r\n      const order = document.querySelector('[data-element=\"order\"]')\r\n      const orderListDelivery = order.querySelector('[data-element=\"order__list_delivery\"]')\r\n      orderListDelivery.classList.add(\"order__list_hide\")\r\n      const orderStepDelivery = order.getElementsByClassName(\"order__step_delivery\")[0]\r\n      orderStepDelivery.classList.add(\"order__step_done\")\r\n      const orderDeliveryResultOld = order.getElementsByClassName(\"order__delivery-result_show\")[0]\r\n      if (orderDeliveryResultOld) orderDeliveryResultOld.classList.remove(\"order__delivery-result_show\")\r\n\r\n      const orderTitleDelivery = order.querySelector('[data-element=\"order__title_delivery\"]')\r\n      const date = this.parentElement.getAttribute(\"data-date\")\r\n      const price = this.parentElement.getAttribute(\"data-price\")\r\n      if (mod === \"pickup\") {\r\n        orderTitleDelivery.textContent = `Шаг 1 — доставка в пункт выдачи ${date}, за ${price}`\r\n      } else {\r\n        orderTitleDelivery.textContent = `Шаг 1 — забрать из магазина ${date}, за ${price}`\r\n      }\r\n\r\n      orderDeliveryResultPickup.classList.add(\"order__delivery-result_show\")\r\n\r\n      function orderDeliveryChangeActiveRemove () {\r\n        const orderDeliveryChangeActive = order.getElementsByClassName(\"order__delivery-change_active\")[0]\r\n        if (orderDeliveryChangeActive) orderDeliveryChangeActive.classList.remove(\"order__delivery-change_active\")\r\n      }\r\n      const orderItemMap = order.querySelector('[data-mod=\"' + mod + '\"]')\r\n      const input = orderItemMap.getElementsByClassName(\"order__input-radio\")[0]\r\n      input.checked = true\r\n      orderDeliveryChangeActiveRemove()\r\n      closeBtn.click()\r\n    }\r\n\r\n    for (let i = 0; i < modalOrderMapItemArray.length; i++) {\r\n      createPlacemark(modalOrderMapItemArray[i])\r\n    }\r\n\r\n    function createPlacemark (item) {\r\n      const coords = JSON.parse(item.getAttribute('data-coords'))\r\n      const caption = item.getAttribute('data-map-caption')\r\n      const placemark = new ymaps.Placemark(coords, {\r\n        iconCaption: caption\r\n      })\r\n      myMap.geoObjects.add(placemark)\r\n    }\r\n\r\n    const modalOrderMapAddressArray = document.querySelectorAll('[data-element=\"modal-order-map__address\"]')\r\n    for (let i = 0; i < modalOrderMapAddressArray.length; i++) {\r\n      modalOrderMapAddressArray[i].addEventListener(\"click\", setMapCenter)\r\n    }\r\n\r\n    function setMapCenter () {\r\n      const centerCoords = JSON.parse(this.parentElement.getAttribute(\"data-coords\"))\r\n      myMap.setCenter(centerCoords)\r\n    }\r\n  }\r\n}\r\n\r\nfunction buttonInit (item) {\r\n  const button = item.querySelector('[data-element=\"modal-order-map__button\"]')\r\n  button.textContent = item.getAttribute('data-button-shablon') + item.getAttribute('data-date') + ', за ' + item.getAttribute('data-price')\r\n}\r\n\r\nconst modalOrderMapShowInfoArray = document.querySelectorAll('[data-element=\"modal-order-map__show-info\"]')\r\n\r\nfor (let i = 0; i < modalOrderMapShowInfoArray.length; i++) {\r\n  modalOrderMapShowInfoArray[i].addEventListener(\"click\", toggleModalOrderMapInfo)\r\n}\r\n\r\nfunction toggleModalOrderMapInfo () {\r\n  const toggleModalOrderMapInfo = this.previousElementSibling\r\n  if (toggleModalOrderMapInfo.classList.contains('modal-order-map__info_active')) {\r\n    toggleModalOrderMapInfo.classList.remove('modal-order-map__info_active')\r\n    this.classList.remove(\"modal-order-map__show-info_active\")\r\n    this.textContent = \"Показать фото и описание пункта\"\r\n  } else {\r\n    toggleModalOrderMapInfo.classList.add('modal-order-map__info_active')\r\n    this.classList.add(\"modal-order-map__show-info_active\")\r\n    this.textContent = \"Скрыть описание\"\r\n  }\r\n}\r\n","const modalTransport = document.getElementById(\"modal-transport\")\r\n\r\nif (modalTransport) setTimeout(modalTransportInit, 0)\r\n\r\nfunction modalTransportInit () {\r\n  const modalTransportButton = modalTransport.querySelector('[data-element=\"modal-transport__button\"]')\r\n  const requiredInputArray = modalTransport.querySelectorAll('[required]')\r\n  for (let i = 0; i < requiredInputArray.length; i++) {\r\n    requiredInputArray[i].addEventListener('input', validateReauiredInputs)\r\n  }\r\n\r\n  validateReauiredInputs()\r\n\r\n  function validateReauiredInputs() {\r\n    modalTransportButton.disabled = false\r\n    for (let i = 0; i < requiredInputArray.length; i++) {\r\n      requiredInputArray[i].classList.remove(\"input_wrong\")\r\n    }\r\n    for (let i = 0; i < requiredInputArray.length; i++) {\r\n      if (!requiredInputArray[i].value) {\r\n        requiredInputArray[i].classList.add(\"input_wrong\")\r\n        modalTransportButton.disabled = true\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  const modalTransportBoxSelectArray = modalTransport.querySelectorAll('[data-element=\"modal-transport__box_select\"]')\r\n  for (let i = 0; i < modalTransportBoxSelectArray.length; i++) {\r\n    selectInit(modalTransportBoxSelectArray[i])\r\n    modalTransportBoxSelectArray[i].addEventListener(\"click\", toggleSelectShow)\r\n  }\r\n\r\n  function toggleSelectShow() {\r\n    const oldActive = modalTransport.getElementsByClassName(\"modal-transport__list-box_active\")[0]\r\n    if (oldActive) oldActive.classList.remove(\"modal-transport__list-box_active\")\r\n    const listBox = this.parentElement.getElementsByClassName(\"modal-transport__list-box\")[0]\r\n    listBox.classList.add(\"modal-transport__list-box_active\")\r\n    window.addEventListener('click', removeListBox)\r\n  }\r\n\r\n  function removeListBox(event) {\r\n    if (!event.target.classList.contains(\"input-animate-placeholder\") && !event.target.classList.contains(\"modal-transport__input\")) {\r\n      const activeListBox = modalTransport.getElementsByClassName(\"modal-transport__list-box_active\")[0]\r\n      activeListBox.classList.remove(\"modal-transport__list-box_active\")\r\n      window.removeEventListener('click', removeListBox)\r\n    }\r\n  }\r\n\r\n  function selectInit (block) {\r\n    const input = block.parentElement.getElementsByClassName(\"modal-transport__input\")[0]\r\n    const items = block.parentElement.querySelectorAll('[data-element=\"modal-transport__select-span\"]')\r\n    for (let i = 0; i < items.length; i++) {\r\n      items[i].addEventListener('click', toggleInput)\r\n    }\r\n    function toggleInput () {\r\n      if (!this.classList.contains(\"modal-transport__select-span_active\")) {\r\n        const oldActive = block.parentElement.getElementsByClassName(\"modal-transport__select-span_active\")[0]\r\n        oldActive.classList.remove(\"modal-transport__select-span_active\")\r\n        this.classList.add(\"modal-transport__select-span_active\")\r\n        input.value = this.textContent\r\n        const listBox = block.parentElement.getElementsByClassName(\"modal-transport__list-box\")[0]\r\n        listBox.classList.remove(\"modal-transport__list-box_active\")\r\n        window.removeEventListener('click', removeListBox)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { addProductInFavorites, deleteProductFromFavorites, checkLocalStorage } from \"../tools/FavoritePosts\"\r\n\r\nconst myOrdersFavoriteArray = document.querySelectorAll('[data-element=\"my-orders__favorite\"]')\r\n\r\nif (myOrdersFavoriteArray.length) setTimeout(myOrdersFavoriteArrayInit, 0)\r\n\r\nfunction myOrdersFavoriteArrayInit () {\r\n  console.log(myOrdersFavoriteArray)\r\n  for (let i = 0; i < myOrdersFavoriteArray.length; i++) {\r\n    const id = myOrdersFavoriteArray[i].getAttribute(\"data-id\")\r\n    checkLocalStorage(myOrdersFavoriteArray[i], id, \"my-orders__favorite_active\")\r\n\r\n    myOrdersFavoriteArray[i].addEventListener(\"click\", (event) => {\r\n      event.preventDefault()\r\n      if (myOrdersFavoriteArray[i].classList.contains('my-orders__favorite_active')) {\r\n        deleteProductFromFavorites(myOrdersFavoriteArray[i], id, \"my-orders__favorite_active\")\r\n      } else {\r\n        addProductInFavorites(myOrdersFavoriteArray[i], id, \"my-orders__favorite_active\")\r\n      }\r\n    })\r\n  }\r\n}\r\n","import { addProductInFavorites, deleteProductFromFavorites, checkLocalStorage } from \"../tools/FavoritePosts\"\r\n\r\nconst orderAboutFavoriteArray = document.querySelectorAll('[data-element=\"order-about-in__favorite\"]')\r\n\r\nif (orderAboutFavoriteArray.length) setTimeout(orderAboutFavoriteArrayInit, 0)\r\n\r\nfunction orderAboutFavoriteArrayInit () {\r\n  console.log(orderAboutFavoriteArray)\r\n  for (let i = 0; i < orderAboutFavoriteArray.length; i++) {\r\n    const id = orderAboutFavoriteArray[i].getAttribute(\"data-id\")\r\n    checkLocalStorage(orderAboutFavoriteArray[i], id, \"order-about-in__favorite_active\")\r\n\r\n    orderAboutFavoriteArray[i].addEventListener(\"click\", (event) => {\r\n      event.preventDefault()\r\n      if (orderAboutFavoriteArray[i].classList.contains('order-about-in__favorite_active')) {\r\n        deleteProductFromFavorites(orderAboutFavoriteArray[i], id, \"order-about-in__favorite_active\")\r\n      } else {\r\n        addProductInFavorites(orderAboutFavoriteArray[i], id, \"order-about-in__favorite_active\")\r\n      }\r\n    })\r\n  }\r\n}\r\n","const order = document.querySelector('[data-element=\"order\"]')\r\n\r\nif (order) setTimeout(orderInit, 0)\r\n\r\nfunction orderInit () {\r\n  const orderItemManager = order.querySelector('[data-element=\"order__item_manager\"]')\r\n  orderItemManager.addEventListener(\"click\", chooseManager)\r\n\r\n  const orderInputRadioPaymentArray = order.querySelectorAll('[data-element=\"order__input-radio_payment\"]')\r\n  for (let i = 0; i < orderInputRadioPaymentArray.length; i++) {\r\n    orderInputRadioPaymentArray[i].addEventListener(\"click\", paymentStepDone)\r\n  }\r\n\r\n  function paymentStepDone () {\r\n    const orderStepPayment = order.getElementsByClassName(\"order__step_payment\")[0]\r\n    orderStepPayment.classList.add(\"order__step_done\")\r\n    for (let i = 0; i < orderInputRadioPaymentArray.length; i++) {\r\n      orderInputRadioPaymentArray[i].removeEventListener(\"click\", paymentStepDone)\r\n    }\r\n  }\r\n\r\n  const orderDeliveryChangeArray = order.querySelectorAll('[data-element=\"order__delivery-change\"]')\r\n  for (let i = 0; i < orderDeliveryChangeArray.length; i++) {\r\n    orderDeliveryChangeArray[i].addEventListener(\"click\", toggleOrderListDelivery)\r\n  }\r\n\r\n  const orderSidebarBox = order.getElementsByClassName(\"order__sidebar-box\")[0]\r\n  orderSidebarBox.addEventListener('click', showInputs)\r\n  function showInputs() {\r\n    console.log(orderSidebarBox.elements)\r\n  }\r\n\r\n  const modalCourierButton = document.querySelector('[data-element=\"modal-courier__button\"]')\r\n  modalCourierButton.addEventListener('click', updateCourierDelivery)\r\n\r\n  const modalTransportButton = document.querySelector('[data-element=\"modal-transport__button\"]')\r\n  modalTransportButton.addEventListener('click', updateTransportDelivery)\r\n\r\n  const orderReceiverLinkButtonArray = order.querySelectorAll('[data-element=\"order__receiver-link-button\"]')\r\n  for (let i = 0; i < orderReceiverLinkButtonArray.length; i++) {\r\n    orderReceiverLinkButtonArray[i].addEventListener('click', checkoutLoginRegisterForm)\r\n  }\r\n\r\n  const orderStep = order.querySelectorAll('[data-element=\"order__step\"]')\r\n  for (let i = 0; i < orderStep.length; i++) {\r\n    initDropdawnButton(orderStep[i])\r\n  }\r\n\r\n  const modalUserButton = document.querySelector('[data-element=\"modal-user__button\"]')\r\n  modalUserButton.addEventListener(\"click\", updateOrderUser)\r\n\r\n  const orderReceiverTypeBtnArray = order.querySelectorAll('[data-element=\"order__receiver-type-btn\"]')\r\n  for (let i = 0; i < orderReceiverTypeBtnArray.length; i++) {\r\n    orderReceiverTypeBtnArray[i].addEventListener(\"click\", toggleType)\r\n  }\r\n}\r\n\r\nfunction chooseManager () {\r\n  orderListDeliveryHide()\r\n  const orderDeliveryResultManager = order.querySelector('[data-element=\"order__delivery-result_manager\"]')\r\n  orderDeliveryResultManager.classList.add(\"order__delivery-result_show\")\r\n}\r\n\r\nfunction toggleOrderListDelivery () {\r\n  const orderListDelivery = order.querySelector('[data-element=\"order__list_delivery\"]')\r\n  if (orderListDelivery.classList.contains(\"order__list_hide\")) {\r\n    orderListDelivery.classList.remove(\"order__list_hide\")\r\n    this.classList.add(\"order__delivery-change_active\")\r\n  } else {\r\n    orderListDelivery.classList.add(\"order__list_hide\")\r\n    this.classList.remove(\"order__delivery-change_active\")\r\n  }\r\n}\r\n\r\nfunction updateTransportDelivery () {\r\n  const modalBoxClose = this.parentElement.getElementsByClassName(\"modal-box__close\")[0]\r\n  const orderTitleDelivery = order.querySelector('[data-element=\"order__title_delivery\"]')\r\n  const orderDeliveryResult = document.querySelector('[data-element=\"order__delivery-result_transport\"]')\r\n  const text = orderDeliveryResult.getElementsByClassName(\"order__text\")[0]\r\n  const modalCourier = document.getElementById(\"modal-transport\")\r\n  const city = modalCourier.querySelector('[data-element=\"city\"]')\r\n  const street = modalCourier.querySelector('[data-element=\"street\"]')\r\n  const house = modalCourier.querySelector('[data-element=\"house\"]')\r\n  const room = modalCourier.querySelector('[data-element=\"room\"]')\r\n  const entrance = modalCourier.querySelector('[data-element=\"entrance\"]')\r\n  const floor = modalCourier.querySelector('[data-element=\"floor\"]')\r\n\r\n  text.textContent = `${city.value}, ${street.value}, д. ${house.value}`\r\n  if (room.value) text.textContent = text.textContent + `, кв. ` + room.value\r\n  if (entrance.value) text.textContent = text.textContent + `, подъезд ` + entrance.value\r\n  if (floor.value) text.textContent = text.textContent + `, этаж ` + floor.value\r\n\r\n  const deliveryTransport = document.querySelector('[data-role=\"delivery-transport\"]')\r\n\r\n  orderTitleDelivery.textContent = `Шаг 1 — доставка ТК ${deliveryTransport.value}`\r\n  orderListDeliveryHide()\r\n  orderDeliveryResult.classList.add(\"order__delivery-result_show\")\r\n  const orderItemTransport = order.querySelector('[data-element=\"order__item_transport\"]')\r\n  const input = orderItemTransport.getElementsByClassName(\"order__input-radio\")[0]\r\n  input.checked = true\r\n  orderDeliveryChangeActiveRemove()\r\n  modalBoxClose.click()\r\n}\r\n\r\nfunction updateCourierDelivery () {\r\n  const modalBoxClose = this.parentElement.getElementsByClassName(\"modal-box__close\")[0]\r\n  const orderTitleDelivery = order.querySelector('[data-element=\"order__title_delivery\"]')\r\n  const orderDeliveryResult = document.querySelector('[data-element=\"order__delivery-result_courier\"]')\r\n  const text = orderDeliveryResult.getElementsByClassName(\"order__text\")[0]\r\n\r\n  const modalCourier = document.getElementById(\"modal-courier\")\r\n\r\n  const city = modalCourier.querySelector('[data-element=\"city\"]')\r\n  const street = modalCourier.querySelector('[data-element=\"street\"]')\r\n  const house = modalCourier.querySelector('[data-element=\"house\"]')\r\n  const room = modalCourier.querySelector('[data-element=\"room\"]')\r\n  const entrance = modalCourier.querySelector('[data-element=\"entrance\"]')\r\n  const floor = modalCourier.querySelector('[data-element=\"floor\"]')\r\n\r\n  const span = orderDeliveryResult.getElementsByClassName(\"order__span\")[0]\r\n  const deliveryTime = document.querySelector('[data-role=\"delivery-time\"]')\r\n  const deliveryDate = document.querySelector('[data-role=\"delivery-date\"]')\r\n  const comment = modalCourier.querySelector('[data-element=\"comment\"]')\r\n  text.textContent = `${city.value}, ${street.value}, д. ${house.value}`\r\n  if (room.value) text.textContent = text.textContent + `, кв. ` + room.value\r\n  if (entrance.value) text.textContent = text.textContent + `, подъезд ` + entrance.value\r\n  if (floor.value) text.textContent = text.textContent + `, этаж ` + floor.value\r\n  if (comment.value) span.textContent = `Комментарий: ${comment.value}`\r\n\r\n  orderTitleDelivery.textContent = `Шаг 1 — доставка курьером ${deliveryDate.value}, ${deliveryTime.value}`\r\n\r\n  orderListDeliveryHide()\r\n  orderDeliveryResult.classList.add(\"order__delivery-result_show\")\r\n  const orderItemCourier = order.querySelector('[data-element=\"order__item_courier\"]')\r\n  const input = orderItemCourier.getElementsByClassName(\"order__input-radio\")[0]\r\n  input.checked = true\r\n  orderDeliveryChangeActiveRemove()\r\n  modalBoxClose.click()\r\n}\r\n\r\nfunction orderDeliveryChangeActiveRemove () {\r\n  const orderDeliveryChangeActive = order.getElementsByClassName(\"order__delivery-change_active\")[0]\r\n  if (orderDeliveryChangeActive) orderDeliveryChangeActive.classList.remove(\"order__delivery-change_active\")\r\n}\r\n\r\nfunction orderListDeliveryHide() {\r\n  const orderListDelivery = order.querySelector('[data-element=\"order__list_delivery\"]')\r\n  orderListDelivery.classList.add(\"order__list_hide\")\r\n  const orderStepDelivery = order.getElementsByClassName(\"order__step_delivery\")[0]\r\n  orderStepDelivery.classList.add(\"order__step_done\")\r\n  const orderDeliveryResultOld = order.getElementsByClassName(\"order__delivery-result_show\")[0]\r\n  if (orderDeliveryResultOld) orderDeliveryResultOld.classList.remove(\"order__delivery-result_show\")\r\n}\r\n\r\nfunction checkoutLoginRegisterForm() {\r\n  this.parentElement.parentElement.classList.add(\"order__display-hidden\")\r\n  const searchQuery = this.getAttribute(\"data-show\")\r\n  const formToShow = order.querySelector('[data-element=\"' + searchQuery + '\"]')\r\n  formToShow.classList.remove(\"order__display-hidden\")\r\n}\r\n\r\nfunction initDropdawnButton (block) {\r\n  const orderDropdawn = block.querySelector('[data-element=\"order__dropdawn\"]')\r\n  const orderMobileHiddenBlock = block.querySelector('[data-role=\"order-mobile-hidden-block\"]')\r\n\r\n  orderDropdawn.addEventListener('click', orderDropdawnToggle)\r\n\r\n  function orderDropdawnToggle() {\r\n    if (this.classList.contains(\"order__dropdawn_hidden\")) {\r\n      this.classList.remove(\"order__dropdawn_hidden\")\r\n      this.textContent = \"Скрыть\"\r\n      orderMobileHiddenBlock.classList.remove(\"order__display-hidden\")\r\n    } else {\r\n      this.classList.add(\"order__dropdawn_hidden\")\r\n      this.textContent = \"Показать\"\r\n      orderMobileHiddenBlock.classList.add(\"order__display-hidden\")\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateOrderUser() {\r\n  const modalBoxClose = this.parentElement.getElementsByClassName(\"modal-box__close\")[0]\r\n  const userName = document.querySelector('[data-element=\"user-name\"]')\r\n  const userPhone = document.querySelector('[data-element=\"user-phone\"]')\r\n  const userInputName = document.querySelector('[data-element=\"modal-user__input-name\"]')\r\n  const userInputPhone = document.querySelector('[data-element=\"modal-user__input-phone\"]')\r\n  userName.textContent = userInputName.value\r\n  userPhone.textContent = userInputPhone.value\r\n  modalBoxClose.click()\r\n}\r\n\r\nfunction toggleType () {\r\n  const oldBtn = order.getElementsByClassName(\"order__receiver-type-btn_active\")[0]\r\n  const oldBox = order.getElementsByClassName(\"order__receiver-box_active\")[0]\r\n  oldBox.classList.remove(\"order__receiver-box_active\")\r\n  oldBtn.classList.remove(\"order__receiver-type-btn_active\")\r\n  this.classList.add(\"order__receiver-type-btn_active\")\r\n  const id = this.getAttribute(\"data-receiver-type\")\r\n  const orderReceiverBox = order.querySelector('[data-receiver-box=\"' + id + '\"]')\r\n  orderReceiverBox.classList.add(\"order__receiver-box_active\")\r\n}\r\n","import { addProductInFavorites, deleteProductFromFavorites, checkLocalStorage } from \"../tools/FavoritePosts\";\r\n\r\nconst productBuyButtonLike = document.querySelector('[data-element=\"product__buy-button_like\"]')\r\n\r\nif (productBuyButtonLike) setTimeout(productBuyButtonLikeInit, 0)\r\n\r\nfunction productBuyButtonLikeInit () {\r\n  const id = productBuyButtonLike.getAttribute(\"data-id\")\r\n  checkLocalStorage(productBuyButtonLike, id, \"product__buy-button_like-active\")\r\n\r\n  productBuyButtonLike.addEventListener(\"click\", (event) => {\r\n      event.preventDefault()\r\n      if (productBuyButtonLike.classList.contains('product__buy-button_like-active')) {\r\n        deleteProductFromFavorites(productBuyButtonLike, id, \"product__buy-button_like-active\")\r\n      } else {\r\n        addProductInFavorites(productBuyButtonLike, id, \"product__buy-button_like-active\")\r\n      }\r\n    })\r\n}\r\n","const product = document.querySelector('[data-element=\"product\"]')\r\n\r\nif (product) setTimeout(productInit, 0)\r\n\r\nfunction productInit () {\r\n  const productNavPictures = product.querySelectorAll('[data-element=\"product__nav-picture\"]')\r\n  const productGalleryPictures = product.querySelectorAll('[data-element=\"product__gallery-picture\"]')\r\n\r\n  for (let i = 0; i < productNavPictures.length; i++) {\r\n    productNavPictures[i].addEventListener(\"click\", checkoutNavPicture)\r\n  }\r\n\r\n  function checkoutNavPicture () {\r\n    const oldActiveNavPicture = product.getElementsByClassName(\"product__nav-picture_active\")[0]\r\n    if (oldActiveNavPicture) oldActiveNavPicture.classList.remove(\"product__nav-picture_active\")\r\n    this.classList.add(\"product__nav-picture_active\")\r\n    const dataId = this.getAttribute(\"data-id\")\r\n    checkoutGalleryPicture(dataId)\r\n  }\r\n\r\n  function checkoutGalleryPicture (id) {\r\n    const oldActive = product.getElementsByClassName(\"product__gallery-picture_active\")[0]\r\n    oldActive.classList.remove(\"product__gallery-picture_active\")\r\n    productGalleryPictures[id].classList.add(\"product__gallery-picture_active\")\r\n  }\r\n}\r\n","const reviews = document.querySelector('[data-element=\"reviews\"]')\r\n\r\nif (reviews) setTimeout(reviewsInit, 0)\r\n\r\nfunction reviewsInit () {\r\n  const reviewsItems = reviews.querySelectorAll('[data-element=\"reviews__item\"]')\r\n\r\n  for (let i = 0; i < reviewsItems.length; i++) {\r\n    reviewsItemInit(reviewsItems[i])\r\n  }\r\n}\r\n\r\nfunction reviewsItemInit (item) {\r\n  const reviewsTextBox = item.querySelector('[data-element=\"reviews__text-box\"]')\r\n  const reviewsTextMore = item.querySelector('[data-element=\"reviews__text-more\"]')\r\n  reviewsTextMore.addEventListener(\"click\", toggleReviewsTextBox)\r\n\r\n  checkHeight()\r\n  window.addEventListener(\"resize\", checkHeight)\r\n\r\n  function checkHeight() {\r\n    if (reviewsTextBox.clientHeight > 200) {\r\n      reviewsTextBox.classList.add(\"reviews__text-box_scroll\")\r\n      reviewsTextMore.classList.add(\"reviews__text-more_active\")\r\n    } else {\r\n      reviewsTextBox.classList.remove(\"reviews__text-box_scroll\")\r\n      reviewsTextMore.classList.remove(\"reviews__text-more_active\")\r\n    }\r\n  }\r\n\r\n  function toggleReviewsTextBox () {\r\n    if (reviewsTextBox.classList.contains(\"reviews__text-box_scroll-active\")) {\r\n      reviewsTextBox.classList.remove(\"reviews__text-box_scroll-active\")\r\n      reviewsTextMore.innerHTML = \"Показать полностью\"\r\n      reviewsTextMore.classList.remove(\"reviews__text-more_reverse\")\r\n    } else {\r\n      reviewsTextBox.classList.add(\"reviews__text-box_scroll-active\")\r\n      reviewsTextMore.innerHTML = \"Свернуть\"\r\n      reviewsTextMore.classList.add(\"reviews__text-more_reverse\")\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n","// import { addProductInFavorites, deleteProductFromFavorites, checkLocalStorage } from \"../tools/FavoritePosts\";\n//\n// const tileButtonFavoriteArray = document.querySelectorAll('[data-element=\"tile__button_favorite\"]')\n//\n// if (tileButtonFavoriteArray) setTimeout(tileButtonFavoriteArrayInit, 0)\n//\n// function tileButtonFavoriteArrayInit () {\n//   for (let i = 0; i < tileButtonFavoriteArray.length; i++) {\n//     const id = tileButtonFavoriteArray[i].getAttribute(\"data-id\")\n//     checkLocalStorage(tileButtonFavoriteArray[i], id, \"tile__button_favorite-active\")\n//\n//     tileButtonFavoriteArray[i].addEventListener(\"click\", (event) => {\n//       event.preventDefault()\n//       if (tileButtonFavoriteArray[i].classList.contains('tile__button_favorite-active')) {\n//         deleteProductFromFavorites(tileButtonFavoriteArray[i], id, \"tile__button_favorite-active\")\n//       } else {\n//         addProductInFavorites(tileButtonFavoriteArray[i], id, \"tile__button_favorite-active\")\n//       }\n//     })\n//   }\n// }\n","import {Basket} from \"../tools/Basket\"\r\nimport {checkLocalStorage} from \"../tools/FavoritePosts\";\r\n\r\nconst tileButtonBasketArray = document.querySelectorAll('[data-element=\"tile__button_basket\"]')\r\n\r\nif (tileButtonBasketArray) setTimeout(tileButtonBasketArrayInit, 0)\r\n\r\nfunction tileButtonBasketArrayInit() {\r\n  for (let i = 0; i < tileButtonBasketArray.length; i++) {\r\n    tileButtonBasketArray[i].addEventListener(\"click\", addInBasket)\r\n    checkLocalBasket(tileButtonBasketArray[i])\r\n  }\r\n}\r\n\r\nfunction checkLocalBasket(button) {\r\n  const dataId = +button.getAttribute(\"data-id\")\r\n  const inBasket = Basket.checkProduct(dataId)\r\n\r\n  if (inBasket) {\r\n    button.removeEventListener(\"click\", addInBasket)\r\n    button.classList.add(\"tile__button_basket-add\")\r\n  }\r\n}\r\n\r\nfunction addInBasket(event) {\r\n  event.preventDefault()\r\n\r\n  const buttonBasket = this\r\n  const productId = buttonBasket.getAttribute(\"data-id\")\r\n  Basket.addProduct(\r\n    productId,\r\n    () => {\r\n      console.log('Ошибка')\r\n    },\r\n    () => {\r\n      try {\r\n        buttonBasket.removeEventListener('click', addInBasket)\r\n      } catch (e) {\r\n        console.dir(e)\r\n      }\r\n      buttonBasket.classList.add(\"tile__button_basket-add\")\r\n    }\r\n  )\r\n}\r\n","export const Basket = {\r\n  clean () { localStorage.removeItem('basket') },\r\n\r\n  setBasket (products) {\r\n    localStorage.setItem('basket', products)\r\n  },\r\n\r\n  getProducts () {\r\n    let products = localStorage.getItem('basket')\r\n\r\n    if (products) {\r\n      products = JSON.parse(products)\r\n      return products\r\n    }\r\n\r\n    products = []\r\n    localStorage.setItem('basket', JSON.stringify(products))\r\n\r\n    return []\r\n  },\r\n\r\n  getCountProducts () {\r\n    return this.getProducts().length\r\n  },\r\n\r\n  checkProduct (id) {\r\n    return this.getProducts().includes(+id)\r\n  },\r\n\r\n  refreshCounts (count) {\r\n    const countElements = document.querySelectorAll('[data-basket-count]')\r\n    count = count > 99 ? 'many' : count\r\n\r\n    for (let i = 0; i < countElements.length; i++) {\r\n      const element = countElements[i]\r\n      element.dataset.basketCount = count\r\n    }\r\n  },\r\n\r\n  refreshHtmlCountProducts () {\r\n    const count = this.getCountProducts()\r\n    this.refreshCounts(count)\r\n  },\r\n\r\n  addProduct: async function (productId, fall, done) {\r\n    const data = new FormData\r\n    data.append('id', productId)\r\n\r\n    const response = await fetch('/product/add-to-cart', {\r\n      method: 'POST',\r\n      body: data\r\n    }).then(response => {\r\n      return response.json()\r\n    }).then(data => {\r\n      Basket.setBasket(JSON.stringify(data))\r\n      Basket.refreshHtmlCountProducts()\r\n      done()\r\n    }).catch((error) => {\r\n      console.error('Error:', error);\r\n    });\r\n  },\r\n\r\n  removeProduct: async function (productId) {\r\n    const data = new FormData\r\n    data.append('id', productId)\r\n\r\n    const response = await fetch('/product/remove-from-cart', {\r\n      method: 'POST',\r\n      body: data\r\n    }).then(response => {\r\n      return response.json()\r\n    }).then(data => {\r\n      Basket.setBasket(JSON.stringify(data))\r\n      Basket.refreshHtmlCountProducts()\r\n      done()\r\n    }).catch((error) => {\r\n      console.error('Error:', error);\r\n    });\r\n  }\r\n}\r\n\r\nBasket.refreshHtmlCountProducts()\r\n\r\nif (sessionStorage.getItem('first') !== '1') {\r\n  if (Basket.getCountProducts() > 0) {\r\n    let data = new FormData\r\n    data.append('products', JSON.stringify(Basket.getProducts()))\r\n\r\n    let request = new XMLHttpRequest()\r\n    request.open('POST', '/cart/cart-recovery', true)\r\n    request.send(data)\r\n  }\r\n\r\n  sessionStorage.setItem('first', '1')\r\n}\r\n","export function createTag(tagName, className, text, href, dataElement) {\r\n  const tag = document.createElement(tagName)\r\n  tag.classList.add(...className)\r\n  if (text) tag.textContent = text\r\n  if (href) tag.setAttribute(\"href\", href)\r\n  if (dataElement) tag.setAttribute(\"data-element\", dataElement)\r\n  return tag\r\n}\r\n\r\nexport function createHeaderSearchMainBox(dataArray, cont) {\r\n  removeOldHeaderSearchMainBox(cont)\r\n\r\n  const headerSearchMainBox = createTag(\"div\", [\"header-search__main-box\"])\r\n\r\n  // const headerSearchMenu = createHeaderSearchMenu(dataArray)\r\n  // headerSearchMainBox.appendChild(headerSearchMenu)\r\n\r\n  const headerSearchProductsBox = createHeaderSearchProductsBox(dataArray)\r\n  headerSearchMainBox.appendChild(headerSearchProductsBox)\r\n\r\n  const buttonAll = createTag(\"button\", [\"header-search__all-result\", \"button-white\"], \"Все результаты\")\r\n  buttonAll.type = \"submit\"\r\n  buttonAll.setAttribute(\"form\", \"header__search-form\")\r\n  headerSearchMainBox.appendChild(buttonAll)\r\n\r\n  cont.appendChild(headerSearchMainBox)\r\n}\r\n\r\nfunction createHeaderSearchProductsBox(dataArray) {\r\n  const headerSearchProductsBox = createTag(\"div\", [\"header-search__products-box\"])\r\n\r\n  if (dataArray.categories.length || dataArray.products.length) {\r\n    if (dataArray.categories.length) {\r\n      const headerSearchCategoryList = createTag(\"div\", [\"header-search__category-list\"])\r\n      for (let i = 0; i < dataArray.categories.length; i++) {\r\n        const category = createCategory(dataArray.categories[i])\r\n        headerSearchCategoryList.appendChild(category)\r\n      }\r\n      headerSearchProductsBox.appendChild(headerSearchCategoryList)\r\n    }\r\n\r\n    if (dataArray.products.length) {\r\n      const tileSearch = createTileSearch(dataArray)\r\n      headerSearchProductsBox.appendChild(tileSearch)\r\n    }\r\n  } else {\r\n    console.log('empty')\r\n  }\r\n\r\n  return headerSearchProductsBox\r\n}\r\n\r\nfunction createTileSearch(dataArray) {\r\n  const list = createTag(\"div\", [\"tile-search__list\"])\r\n  for (let i = 0; i < dataArray.products.length; i++) {\r\n    const item = createItem(dataArray.products[i])\r\n    list.appendChild(item)\r\n  }\r\n  return list\r\n}\r\n\r\nfunction createItem(product) {\r\n  const item = createTag(\"a\", [\"tile-search__item\"], '', product.link)\r\n  item.setAttribute(\"data-element\", \"tile-search__item\")\r\n\r\n  const picture = createTileSearchPicture(product)\r\n  item.appendChild(picture)\r\n\r\n  const priceBox = createTileSearchPriceBox(product)\r\n  item.appendChild(priceBox)\r\n\r\n  const infoLine = createTileSearchInfoLine(product)\r\n  item.appendChild(infoLine)\r\n\r\n  const text = createTag(\"p\", [\"tile-search__text\", \"text-small\"], \"Лента тефлоновая уплотнительная чёрная\")\r\n  item.appendChild(text)\r\n\r\n  return item\r\n}\r\n\r\nfunction createTileSearchInfoLine(product) {\r\n  const infoLine = createTag(\"div\", [\"tile-search__info-line\"])\r\n  const rating = createTag(\"div\", [\"tile-search__rating\"])\r\n  const ratingFill = createTag(\"div\", [\"tile-search__rating-fill\"])\r\n  ratingFill.style = `width: ${product.ratingFill}`\r\n  const ratingValue = createTag(\"div\", [\"tile-search__rating-value\", \"text-small\"], product.ratingCount)\r\n  const ratingAvailability = createTag(\"div\", [\"tile-search__availability\", \"text-small\"], product.availability)\r\n\r\n  rating.appendChild(ratingFill)\r\n  infoLine.appendChild(rating)\r\n  infoLine.appendChild(ratingValue)\r\n  infoLine.appendChild(ratingAvailability)\r\n\r\n  return infoLine\r\n\r\n}\r\n\r\nfunction createTileSearchPriceBox(product) {\r\n  const priceBox = createTag(\"div\", [\"tile-search__price-box\"])\r\n  const price = createTag(\"div\", [\"tile-search__price\"], product.price)\r\n  const priceInfo = createTag(\"div\", [\"tile-search__price-info\"])\r\n\r\n  let priceOld\r\n  if (product.priceOld) {\r\n    priceOld = createTag(\"div\", [\"tile-search__price-old\"], product.priceOld)\r\n    priceInfo.appendChild(priceOld)\r\n  }\r\n\r\n  const priceRouble = createTag(\"div\", [\"tile-search__price-rouble\"], \"₽/шт.\")\r\n\r\n  priceInfo.appendChild(priceRouble)\r\n  priceBox.appendChild(price)\r\n  priceBox.appendChild(priceInfo)\r\n\r\n  return priceBox\r\n}\r\n\r\nfunction createTileSearchPicture(product) {\r\n  const picture = createTag(\"picture\", [\"tile-search__picture\"])\r\n\r\n  let discount\r\n  if (product.discount) {\r\n    discount = createTag(\"div\", [\"tile-search__discount\", \"text-small\"], product.discount)\r\n    picture.appendChild(discount)\r\n  }\r\n\r\n  const source2x = document.createElement(\"source\")\r\n  source2x.srcset = product.picture.srcset48 + ' 1x, ' + product.picture.srcset96 + ' 2x'\r\n  source2x.type = \"image/webp\"\r\n  source2x.media = \"(max-width: 1240px)\"\r\n\r\n  const source140 = document.createElement(\"source\")\r\n  source140.srcset = product.picture.srcset140\r\n  source140.type = \"image/webp\"\r\n\r\n  const image = document.createElement(\"img\")\r\n  image.src = product.picture.src140\r\n  image.classList.add(\"tile-search__image\")\r\n\r\n  picture.appendChild(source2x)\r\n  picture.appendChild(source140)\r\n  picture.appendChild(image)\r\n\r\n  return picture\r\n}\r\n\r\nfunction createCategory(category) {\r\n  const headerSearchCategoryItem = createTag(\"a\", [\"header-search__category-item\"], '', category.link)\r\n\r\n  const headerSearchCategoryText = createTag(\"span\", [\"header-search__category-text\"], category.name)\r\n  headerSearchCategoryItem.appendChild(headerSearchCategoryText)\r\n\r\n  const headerSearchCategoryPicture = createHeaderSearchCategoryPicture(category.picture)\r\n  headerSearchCategoryItem.appendChild(headerSearchCategoryPicture)\r\n\r\n  return headerSearchCategoryItem\r\n}\r\n\r\nfunction createHeaderSearchCategoryPicture(category) {\r\n  const headerSearchCategoryPicture = createTag(\"picture\", [\"header-search__category-picture\"])\r\n  const source32 = document.createElement(\"source\")\r\n  source32.srcset = category.srcset32\r\n  source32.type = \"image/webp\"\r\n\r\n  const source64 = document.createElement(\"source\")\r\n  source64.srcset = category.srcset32 + ' 1x, ' + category.srcset64 + ' 2x'\r\n  source64.type = \"image/webp\"\r\n  source64.media = \"(max-width: 1240px)\"\r\n\r\n  const image = document.createElement(\"img\")\r\n  image.src = category.src32\r\n  image.classList.add(\"header-search__category-image\")\r\n\r\n  headerSearchCategoryPicture.appendChild(source64)\r\n  headerSearchCategoryPicture.appendChild(source32)\r\n  headerSearchCategoryPicture.appendChild(image)\r\n\r\n  return headerSearchCategoryPicture\r\n}\r\n\r\nfunction createHeaderSearchMenu(dataArray) {\r\n  const headerSearchMenu = createTag(\"div\", [\"header-search__menu\"])\r\n\r\n  let headerSearchMenuLink1, headerSearchMenuLink2\r\n  if (dataArray.productsCount !== 0) {\r\n    headerSearchMenuLink1 = createTag(\"div\", [\"header-search__menu-link\", \"header-search__menu-link_active\", \"text-small\"], `В каталоге — ${dataArray.productsCount}`)\r\n  } else {\r\n    headerSearchMenuLink1 = createTag(\"div\", [\"header-search__menu-link\", \"header-search__menu-link_disactive\", \"text-small\"], `В каталоге — 0`)\r\n  }\r\n\r\n  if (dataArray.journalCount !== 0) {\r\n    headerSearchMenuLink2 = createTag(\"div\", [\"header-search__menu-link\", \"header-search__menu-link_active\", \"text-small\"], `Новости и статьи — ${dataArray.journalCount}`)\r\n  } else {\r\n    headerSearchMenuLink2 = createTag(\"div\", [\"header-search__menu-link\", \"header-search__menu-link_disactive\", \"text-small\"], `Новости и статьи — 0`)\r\n  }\r\n\r\n  headerSearchMenu.appendChild(headerSearchMenuLink1)\r\n  headerSearchMenu.appendChild(headerSearchMenuLink2)\r\n\r\n  return headerSearchMenu\r\n}\r\n\r\nfunction removeOldHeaderSearchMainBox(cont) {\r\n  const oldHeaderSearchMainBox = cont.getElementsByClassName(\"header-search__main-box\")[0]\r\n  if (oldHeaderSearchMainBox) oldHeaderSearchMainBox.remove()\r\n}\r\n","// export async function sendFavoriteResponse(formData, url) {\n//   const response = await fetch(url, {\n//     method: 'POST',\n//     body: formData\n//   })\n//   if (!response.ok) return\n//   const result = await response.json()\n//   const serverFavorites = result.products\n//\n//   localStorage.setItem('favorites', JSON.stringify(serverFavorites))\n// }\n//\n// export async function checkLocalStorage(elem, productId, className) {\n//   const localFavorites = JSON.parse(localStorage.getItem('favorites'))\n//   if (localFavorites) {\n//     for (let i = 0; i < localFavorites.length; i++) {\n//       if (localFavorites[i] == productId) {\n//         elem.classList.add(className)\n//       }\n//     }\n//   } else {\n//     const response = await sendFavoriteResponse(false, '/get-favorites')\n//     if (!response.ok) return\n//     checkLocalStorage()\n//   }\n// }\n//\n// export async function deleteProductFromFavorites(elem, id, className) {\n//   const formData = new FormData()\n//   formData.append('id', id)\n//\n//   sendFavoriteResponse(formData, '/product/remove-from-favorites')\n//\n//   elem.classList.remove(className)\n// }\n//\n// export async function addProductInFavorites(elem, id, className) {\n//   const formData = new FormData()\n//   formData.append('id', id)\n//\n//   sendFavoriteResponse(formData, '/product/add-to-favorites')\n//\n//   elem.classList.add(className)\n// }\n","export default function IsInvalidationPhone (phone) {\r\n  if (phone.length < 6) {\r\n    return true\r\n  }\r\n  if (/[^0-9-+()\\s]/g.test(phone)) {\r\n    return true\r\n  }\r\n  if (phone.length > 40) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n","if (document.querySelector('[data-role=\"scroll-to-anchor\"]')) setTimeout(initScrollToAnchor, 0)\r\n\r\nfunction initScrollToAnchor () {\r\n  const anchorElements = document.querySelectorAll('[data-role=\"scroll-to-anchor\"]')\r\n\r\n  for (let i = 0, len = anchorElements.length; i < len; i++) _loopAddEventScrollToAnchor(anchorElements[i])\r\n\r\n  function _loopAddEventScrollToAnchor (node) {\r\n    node.addEventListener('click', clickOnTheScrollElement)\r\n  }\r\n}\r\n\r\nfunction clickOnTheScrollElement (event) {\r\n  event.preventDefault()\r\n  let elementId\r\n  if (this.dataset.link) elementId = this.dataset.link.substr(1)\r\n  else elementId = this.hash.substr(1)\r\n  const element = document.getElementById(elementId)\r\n  if (element) animateScrollToAnchor(element)\r\n}\r\n\r\nfunction animateScrollToAnchor (theElement) {\r\n  const positionNow = window.pageYOffset\r\n  const positionElement = theElement.getBoundingClientRect().top + pageYOffset - 50\r\n  const duration = 300\r\n  const step = positionElement - positionNow\r\n  const start = performance.now()\r\n\r\n  requestAnimationFrame(function animate (time) {\r\n    const timePassed = time - start\r\n\r\n    if (timePassed > duration) {\r\n      window.scrollTo(0, positionElement)\r\n    } else {\r\n      window.scrollTo(0, positionNow + step * (timePassed / duration))\r\n      requestAnimationFrame(animate)\r\n    }\r\n  })\r\n}\r\n","import IsInvalidationPhone from '../tools/IsInvalidationPhone'\r\n\r\nexport function disabledButton (component, dataElement) {\r\n  const button = component.querySelector(dataElement)\r\n  button.disabled = true\r\n}\r\n\r\nexport function enabledButton (component, dataElement) {\r\n  const button = component.querySelector(dataElement)\r\n  button.disabled = false\r\n}\r\n\r\nexport function getData (form, dataMod) {\r\n  const data = new FormData(form)\r\n  if (dataMod === \"basket\") {\r\n    const basketInputCounter = document.querySelectorAll('[data-element=\"basket__input-counter\"]')\r\n    for (let i = 0; i < basketInputCounter.length; i++) {\r\n      data.append(basketInputCounter[i].name, basketInputCounter[i].value)\r\n    }\r\n  }\r\n  const hiddenInput = form.querySelector('[data-role=\"input-spam\"]')\r\n  if (hiddenInput) data.delete(hiddenInput.name)\r\n  return data\r\n}\r\n\r\nexport function sendForm (formData, url) {\r\n  fetch(url, { method: 'POST', body: formData })\r\n    .then(res => { return res.json() })\r\n    .then(data => { if (data) window.location.assign('/thanks') })\r\n    .catch(console.error)\r\n}\r\n\r\nexport function validation(phone, mail, component) {\r\n  if (phone) {\r\n    if (validatePhone(phone, component)) return\r\n  }\r\n  if (mail) {\r\n    if (validationMail(mail, component)) return\r\n  }\r\n  enabledButton(component, '[data-role=\"autocomplete-spam-form-button\"]')\r\n}\r\n\r\nfunction validatePhone(phone, component) {\r\n  if (IsInvalidationPhone(phone.value)) {\r\n    phone.classList.add(\"input_wrong\")\r\n    disabledButton(component, '[data-role=\"autocomplete-spam-form-button\"]')\r\n    return true\r\n  } else {\r\n    phone.classList.remove(\"input_wrong\")\r\n  }\r\n}\r\n\r\nfunction validationMail(mail, component) {\r\n  if ((mail.validity.valid === false)) {\r\n    mail.classList.add(\"input_wrong\")\r\n    disabledButton(component, '[data-role=\"autocomplete-spam-form-button\"]')\r\n    return true\r\n  } else {\r\n    mail.classList.remove(\"input_wrong\")\r\n  }\r\n}\r\n","import {getData, sendForm, validation} from './SendFormAntispam'\r\n\r\nconst forms = document.querySelectorAll('[data-role=\"autocomplete-spam-form\"]')\r\n\r\nif (forms) setTimeout(formsInit, 0)\r\n\r\nfunction formsInit() {\r\n  for (let i = 0; i < forms.length; i++) {\r\n    formInit(forms[i])\r\n  }\r\n}\r\n\r\nfunction formInit(form) {\r\n  let personalInformation = sessionStorage.getItem(\"personalInformation\")\r\n\r\n  if (personalInformation) {\r\n    personalInformation = JSON.parse(personalInformation)\r\n    autocomplete()\r\n  }\r\n\r\n  function autocomplete () {\r\n    const mail = document.querySelector('[data-role=\"autocomplete-spam-form-mail\"]')\r\n    if (mail && personalInformation.mail) mail.value = personalInformation.mail\r\n    const phone = document.querySelector('[data-role=\"autocomplete-spam-form-phone\"]')\r\n    if (phone && personalInformation.phone) phone.value = personalInformation.phone\r\n  }\r\n\r\n  form.addEventListener('submit', submitForm)\r\n\r\n  const phone = form.querySelector('[data-role=\"autocomplete-spam-form-phone\"]')\r\n  const mail = form.querySelector('[data-role=\"autocomplete-spam-form-mail\"]')\r\n  if (phone) {\r\n    form.addEventListener('input', validate)\r\n  }\r\n  if (mail) {\r\n    form.addEventListener('input', validate)\r\n  }\r\n  function validate () {\r\n    validation(phone, mail, form)\r\n  }\r\n\r\n  function submitForm (event) {\r\n    event.preventDefault()\r\n    const form = event.currentTarget\r\n    const button = form.querySelector('[data-role=\"autocomplete-spam-form-button\"]')\r\n    const dataMod = button.getAttribute(\"data-mod\")\r\n    const data = getData(form, dataMod)\r\n    const url = form.getAttribute('action')\r\n    sendForm(data, url)\r\n  }\r\n}\r\n","const fancyboxItems = document.querySelectorAll('[data-role=\"data-my-fancybox-item\"]')\r\n\r\nif (fancyboxItems) setTimeout(initMyFancybox, 0)\r\n\r\nfunction initMyFancybox() {\r\n  for (let i = 0; i < fancyboxItems.length; i++) {\r\n    fancyboxItems[i].addEventListener('click', initOneFancybox)\r\n  }\r\n}\r\n\r\nfunction initOneFancybox() {\r\n  const name = this.getAttribute(\"data-my-fancybox-name\")\r\n  const items = document.querySelectorAll('[data-my-fancybox-name=\"' + name + '\"]')\r\n  createMyFancybox(items, this)\r\n}\r\n\r\nfunction createMyFancybox(children, currentItem) {\r\n  const myFancybox = document.createElement(\"aside\")\r\n  myFancybox.classList.add(\"my-fancybox\", \"my-fancybox\")\r\n  myFancybox.setAttribute(\"data-role\", \"my-fancybox\")\r\n  const myFancyboxCont = createMyFancyboxCont(children)\r\n  myFancybox.appendChild(myFancyboxCont)\r\n  const body = document.getElementsByTagName(\"body\")[0]\r\n  body.appendChild(myFancybox)\r\n  const fancybox = new fancyboxClass(myFancybox)\r\n  fancybox.openFancybox(currentItem)\r\n}\r\n\r\nfunction createMyFancyboxCont(data) {\r\n  const cont = document.createElement(\"div\")\r\n  cont.classList.add(\"my-fancybox__cont\")\r\n  const myFancyboxWrapper = createMyFancyboxWrapper(data)\r\n  cont.appendChild(myFancyboxWrapper)\r\n  return cont\r\n}\r\n\r\nfunction createMyFancyboxWrapper(data) {\r\n  const myFancyboxWrapper = document.createElement(\"div\")\r\n  myFancyboxWrapper.classList.add(\"my-fancybox__wrapper\")\r\n  myFancyboxWrapper.setAttribute(\"data-role\", \"my-fancybox__wrapper\")\r\n  let myData = []\r\n  for (let i = 0; i < data.length; i++) {\r\n    const href = data[i].getAttribute(\"data-href\")\r\n    const type = data[i].getAttribute(\"data-my-fancybox-type\")\r\n    const text = data[i].getAttribute(\"data-caption\")\r\n    const myDataObject = {\r\n      href: href,\r\n      type: type,\r\n      text: text\r\n    }\r\n    myData[i+1] = myDataObject\r\n  }\r\n  const stringData = JSON.stringify(myData)\r\n  myFancyboxWrapper.setAttribute(\"data-info\", stringData)\r\n  const myFancyboxInner = document.createElement(\"div\")\r\n  myFancyboxInner.classList.add(\"my-fancybox__inner\")\r\n  myFancyboxWrapper.appendChild(myFancyboxInner)\r\n\r\n  const menu = createMyFanciboxMenu(data)\r\n  myFancyboxInner.appendChild(menu)\r\n\r\n  const close = createMyFanciboxClose()\r\n  myFancyboxInner.appendChild(close)\r\n  const next = createMyFanciboxButton(\"next\", data)\r\n  const prev = createMyFanciboxButton(\"prev\", data)\r\n  myFancyboxInner.appendChild(next)\r\n  myFancyboxInner.appendChild(prev)\r\n  const area = createMyFanciboxArea(data)\r\n  myFancyboxInner.appendChild(area)\r\n\r\n  const listBox = createMyFanciboxListBox(data)\r\n  myFancyboxWrapper.appendChild(listBox)\r\n  return myFancyboxWrapper\r\n}\r\n\r\nfunction createMyFanciboxMenu(data) {\r\n  const div = document.createElement(\"div\")\r\n  div.classList.add(\"my-fancybox__btn-menu\")\r\n  if (data.length === 1) div.classList.add(\"my-fancybox__btn-menu_hide\")\r\n  div.setAttribute(\"data-role\", \"my-fancybox__btn-menu\")\r\n  return div\r\n}\r\n\r\nfunction createMyFanciboxClose() {\r\n  const div = document.createElement(\"div\")\r\n  div.classList.add(\"my-fancybox__btn-close\")\r\n  div.setAttribute(\"data-role\", \"my-fancybox__btn-close\")\r\n  return div\r\n}\r\n\r\nfunction createMyFanciboxButton(mod, data) {\r\n  const div = document.createElement(\"div\")\r\n  div.classList.add(\"my-fancybox__button\")\r\n  if (data.length === 1) div.classList.add(\"my-fancybox__button_hide\")\r\n  div.classList.add(`my-fancybox__button_${mod}`)\r\n  div.setAttribute(\"data-role\", `my-fancybox-${mod}`)\r\n  return div\r\n}\r\n\r\nfunction createMyFanciboxListBox(data) {\r\n  const listBox = document.createElement(\"div\")\r\n  listBox.classList.add(\"my-fancybox__list-box\")\r\n  listBox.setAttribute(\"data-role\", \"my-fancybox__list-box\")\r\n  const list = createMyFanciboxList(data)\r\n  const div = document.createElement(\"div\")\r\n  div.classList.add(\"my-fancybox__list-container\")\r\n  div.appendChild(list)\r\n  listBox.appendChild(div)\r\n  return listBox\r\n}\r\n\r\nfunction createMyFanciboxList(data) {\r\n  const list = document.createElement('ul')\r\n  list.classList.add(\"my-fancybox__list\")\r\n  for (let i = 0; i < data.length; i++) {\r\n    const item = createMyFancyboxItem(data[i], i)\r\n    list.appendChild(item)\r\n  }\r\n  return list\r\n}\r\n\r\nfunction createMyFancyboxItem(data, index) {\r\n  const item = document.createElement(\"li\")\r\n  item.classList.add(\"my-fancybox__item\")\r\n  if (index === 1) item.classList.add(\"my-fancybox__item_active\")\r\n  item.setAttribute(\"data-index\", `${index+1}`)\r\n  const srcBig = data.getAttribute(\"data-href\")\r\n  item.setAttribute(\"data-src-big-image\", srcBig)\r\n  const text = data.getAttribute(\"data-caption\")\r\n  item.setAttribute(\"data-text\", text)\r\n  item.setAttribute(\"data-role\", \"my-fancybox__item\")\r\n  const picture = createMyFancyboxPicture(data)\r\n  item.appendChild(picture)\r\n  return item\r\n}\r\n\r\nfunction createMyFancyboxPicture(data) {\r\n  const picture = document.createElement(\"picture\")\r\n  picture.classList.add(\"my-fancybox__picture\")\r\n\r\n  if (data.getAttribute(\"data-thumb-2x\")) {\r\n    const source = document.createElement(\"source\")\r\n    source.srcset = data.getAttribute(\"data-thumb\") + ' 1x, ' + data.getAttribute(\"data-thumb-2x\") + ' 2x'\r\n    picture.appendChild(source)\r\n  }\r\n\r\n  if (data.getAttribute(\"data-my-fancybox-type\") === \"video\") {\r\n    picture.classList.add(\"my-fancybox__thumb-video\")\r\n  }\r\n\r\n  const image = createMyFancyboxImage(data)\r\n  picture.appendChild(image)\r\n  return picture\r\n}\r\n\r\nfunction createMyFancyboxImage(data) {\r\n  const image = document.createElement(\"img\")\r\n  image.classList.add(\"my-fancybox__image\")\r\n  image.src = data.getAttribute(\"data-thumb\")\r\n  image.setAttribute(\"loading\", \"lazy\")\r\n  return image\r\n}\r\n\r\nfunction createMyFanciboxArea(data) {\r\n  const area = document.createElement('div')\r\n  area.classList.add(\"my-fancybox__area\")\r\n  const box = createMyFancyboxBox(data[0])\r\n  area.appendChild(box)\r\n  return area\r\n}\r\n\r\nfunction createMyFancyboxBox(data) {\r\n  const box = document.createElement(\"div\")\r\n  box.classList.add(\"my-fancybox__box\")\r\n  box.classList.add(\"my-fancybox__box_active\")\r\n  if (data.getAttribute(\"data-my-fancybox-type\") === \"video\") {\r\n    const iframe = createMyFancyboxIframeBoxBig(data)\r\n    box.appendChild(iframe)\r\n  } else {\r\n    const picture = createMyFancyboxPictureBig(data)\r\n    box.appendChild(picture)\r\n  }\r\n  const layer = createMyFancyboxLayer()\r\n  box.appendChild(layer)\r\n\r\n  const caption = data.getAttribute(\"data-caption\")\r\n  if (caption) {\r\n    const p = createMyFanciboxText(caption)\r\n    box.appendChild(p)\r\n  }\r\n\r\n  return box\r\n}\r\n\r\nfunction createMyFanciboxText(caption) {\r\n  const p = document.createElement(\"p\")\r\n  p.classList.add(\"my-fancybox__text\")\r\n  p.setAttribute(\"data-role\", \"my-fancybox__text\")\r\n  p.innerHTML = caption\r\n  return p\r\n}\r\n\r\nfunction createMyFancyboxLayer() {\r\n  const div = document.createElement(\"div\")\r\n  div.classList.add(\"my-fancybox__layer\")\r\n  div.setAttribute(\"data-role\", \"my-fancybox-layer\")\r\n  return div\r\n}\r\n\r\nfunction createMyFancyboxPictureBig(data) {\r\n  const picture = document.createElement(\"picture\")\r\n  picture.classList.add(\"my-fancybox__picture-big\")\r\n  picture.classList.add(\"my-fancybox__picture-big_loading\")\r\n  picture.setAttribute(\"data-role\", \"my-fancybox__picture-big\")\r\n  const image = createMyFancyboxImageBig(data)\r\n  picture.appendChild(image)\r\n  return picture\r\n}\r\n\r\nfunction createMyFancyboxIframeBoxBig(data) {\r\n  const box = document.createElement(\"div\")\r\n  box.classList.add(\"my-fancybox__picture-big\")\r\n  box.classList.add(\"my-fancybox__picture-big_loading\")\r\n  box.classList.add(\"my-fancybox__iframe-box\")\r\n  box.addEventListener(\"click\", playFrame)\r\n\r\n  function playFrame() {\r\n    const frame = box.getElementsByClassName(\"my-fancybox__iframe\")[0]\r\n    frame.contentWindow.postMessage(JSON.stringify({ event: 'command',\r\n    func: 'playVideo' }), '*')\r\n    box.classList.add(\"my-fancybox__iframe-box_play\")\r\n  }\r\n\r\n  box.setAttribute(\"data-role\", \"my-fancybox__picture-big\")\r\n  const iframe = createMyFancyboxIframeBig(data)\r\n  box.appendChild(iframe)\r\n  return box\r\n}\r\n\r\nfunction createMyFancyboxIframeBig(data) {\r\n  const iframe = document.createElement(\"iframe\")\r\n  iframe.classList.add(\"my-fancybox__image-big\")\r\n  iframe.setAttribute(\"data-role\",\"my-fancybox__iframe-big\")\r\n  iframe.classList.add(\"my-fancybox__iframe\")\r\n  iframe.src = data.getAttribute(\"data-href\")\r\n  iframe.setAttribute(\"allow\", \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\")\r\n  iframe.setAttribute(\"allowfullscreen\", true)\r\n  return iframe\r\n}\r\n\r\nfunction createMyFancyboxImageBig(data) {\r\n  const image = document.createElement(\"img\")\r\n  image.classList.add(\"my-fancybox__image-big\")\r\n  image.setAttribute(\"data-role\",\"my-fancybox__image-big\")\r\n  image.src = data.getAttribute(\"data-href\")\r\n  image.setAttribute(\"loading\", \"lazy\")\r\n  return image\r\n}\r\n\r\nlet fancyboxFunctionBindLink\r\nlet myTimer\r\nlet coordPrev\r\nlet coordNext\r\nlet myClass\r\nclass fancyboxClass {\r\n  constructor (myFancybox) {\r\n    myClass = this\r\n    this.fancybox = myFancybox\r\n    this.wrapper = this.fancybox.querySelector('[data-role=\"my-fancybox__wrapper\"]')\r\n    this.data = JSON.parse(this.wrapper.getAttribute(\"data-info\"))\r\n    this.layer = this.fancybox.querySelectorAll('[data-role=\"my-fancybox-layer\"]')\r\n    for (let i = 0; i < this.layer.length; i++) {\r\n      this.layer[i].addEventListener('click', this.closeFancybox)\r\n    }\r\n    this.btnMenu = this.fancybox.querySelector('[data-role=\"my-fancybox__btn-menu\"]')\r\n    this.btnMenu.addEventListener('click', this.toggleMenu)\r\n    this.btnClose = this.fancybox.querySelector('[data-role=\"my-fancybox__btn-close\"]')\r\n    this.btnClose.addEventListener('click', this.closeFancybox)\r\n    this.fancyboxItems = this.fancybox.querySelectorAll('[data-role=\"my-fancybox__item\"]')\r\n    for (let i = 0; i < this.fancyboxItems.length; i++) {\r\n      this.fancyboxItems[i].addEventListener('click', () => this.toggleItem(this.fancyboxItems[i]))\r\n    }\r\n    this.prev = this.fancybox.querySelector('[data-role=\"my-fancybox-prev\"]')\r\n    this.next = this.fancybox.querySelector('[data-role=\"my-fancybox-next\"]')\r\n    this.prev.addEventListener('click', () => this.prevFancybox())\r\n    this.next.addEventListener('click', () => this.nextFancybox())\r\n\r\n    this.picturesBig = this.fancybox.querySelectorAll('[data-role=\"my-fancybox__picture-big\"]')\r\n    for (let i = 0; i < this.picturesBig.length; i++) {\r\n      const image = this.picturesBig[i].getElementsByClassName(\"my-fancybox__image-big\")[0]\r\n      image.addEventListener(\"touchstart\", this.showTextAndArrows, {passive: true})\r\n      image.addEventListener(\"touchend\", this.svipeEnd, {passive: true})\r\n      image.addEventListener(\"touchmove\", this.svipeSlide, {passive: true})\r\n    }\r\n\r\n    this.imagesBig = this.fancybox.querySelectorAll('[data-role=\"my-fancybox__image-big\"]')\r\n    for (let i = 0; i < this.imagesBig.length; i++) {\r\n      this.imagesBig[i].addEventListener(\"load\", this.deleteLoadCircle)\r\n    }\r\n\r\n    this.iframesBig = this.fancybox.querySelectorAll('[data-role=\"my-fancybox__iframe-big\"]')\r\n    for (let i = 0; i < this.iframesBig.length; i++) {\r\n      this.iframesBig[i].addEventListener(\"load\", this.deleteLoadCircle)\r\n    }\r\n  }\r\n\r\n  deleteLoadCircle(event) {\r\n    event.currentTarget.parentElement.classList.remove(\"my-fancybox__picture-big_loading\")\r\n  }\r\n\r\n  svipeEnd(event) {\r\n    const boxActive = document.querySelector('.my-fancybox__box_active')\r\n    const item = boxActive.querySelector('.my-fancybox__picture-big')\r\n    const image = item.getElementsByClassName(\"my-fancybox__image-big\")[0]\r\n    let coord1 = image.style.transform.slice(0, -3)\r\n    let coord2 = coord1.slice(11)\r\n    if (coord2 > 50) {\r\n      myClass.animationSvipeRight()\r\n      setTimeout(myClass.prevFancybox, 500)\r\n    } else if (coord2 < -50) {\r\n      myClass.animationSvipeLeft()\r\n      setTimeout(myClass.nextFancybox, 500)\r\n    } else {\r\n      image.style.transform = \"translateX(0px)\"\r\n    }\r\n  }\r\n\r\n  animationSvipeRight() {\r\n    const boxActive = myClass.fancybox.querySelector('.my-fancybox__box_active')\r\n    const item = boxActive.querySelector('.my-fancybox__picture-big')\r\n    const image = item.getElementsByClassName(\"my-fancybox__image-big\")[0]\r\n    image.style.transform = \"translateX(1000px)\"\r\n  }\r\n\r\n  animationSvipeLeft() {\r\n    const boxActive = myClass.fancybox.querySelector('.my-fancybox__box_active')\r\n    const item = boxActive.querySelector('.my-fancybox__picture-big')\r\n    const image = item.getElementsByClassName(\"my-fancybox__image-big\")[0]\r\n    image.style.transform = \"translateX(-1000px)\"\r\n  }\r\n\r\n  svipeSlide(event) {\r\n    const boxActive = document.querySelector('.my-fancybox__box_active')\r\n    const item = boxActive.querySelector('.my-fancybox__picture-big')\r\n    const image = item.getElementsByClassName(\"my-fancybox__image-big\")[0]\r\n    coordNext = event.touches[0].clientX\r\n    image.style.transform = \"translateX(\" + (coordNext - coordPrev) + \"px)\"\r\n  }\r\n\r\n  showTextAndArrows(event) {\r\n    coordPrev = event.touches[0].clientX\r\n    clearTimeout(myTimer)\r\n    const prev = document.querySelector('[data-role=\"my-fancybox-prev\"]')\r\n    const next = document.querySelector('[data-role=\"my-fancybox-next\"]')\r\n\r\n    const boxActive = document.querySelector('.my-fancybox__box_active')\r\n    const text = boxActive.querySelector('[data-role=\"my-fancybox__text\"]')\r\n    prev.classList.add(\"my-fancybox__button_show\")\r\n    next.classList.add(\"my-fancybox__button_show\")\r\n    if (text) text.classList.add(\"my-fancybox__text_show\")\r\n\r\n    myTimer = setTimeout(hide, 3000)\r\n\r\n    function hide() {\r\n      prev.classList.remove(\"my-fancybox__button_show\")\r\n      next.classList.remove(\"my-fancybox__button_show\")\r\n      if (text) text.classList.remove(\"my-fancybox__text_show\")\r\n    }\r\n  }\r\n\r\n  prevFancybox() {\r\n    const oldActiveItem = myClass.fancybox.getElementsByClassName('my-fancybox__item_active')[0]\r\n    const index = oldActiveItem.getAttribute('data-index')\r\n    let newIndex = index - 1\r\n    if (newIndex === 0) newIndex = myClass.fancyboxItems.length\r\n    const newActiveItem = myClass.fancybox.querySelector('[data-index=\"' + newIndex + '\"]')\r\n    myClass.animationSvipe()\r\n\r\n    myClass.toggleItem(newActiveItem)\r\n  }\r\n\r\n  animationSvipe() {\r\n    const image = myClass.fancybox.querySelector('[data-role=\"my-fancybox__image-big\"]')\r\n    image.style.transitionDuration = \"0s\"\r\n    image.style.transform = \"\"\r\n    setTimeout(qwe, 100)\r\n    function qwe() {\r\n      image.style.transitionDuration = \".5s\"\r\n    }\r\n  }\r\n\r\n  nextFancybox() {\r\n    const oldActiveItem = myClass.fancybox.getElementsByClassName('my-fancybox__item_active')[0]\r\n    const index = oldActiveItem.getAttribute('data-index')\r\n    let newIndex = +index + 1\r\n    if (newIndex === myClass.fancyboxItems.length + 1) newIndex = 1\r\n    const newActiveItem = myClass.fancybox.querySelector('[data-index=\"' + newIndex + '\"]')\r\n\r\n    myClass.animationSvipe()\r\n\r\n    myClass.toggleItem(newActiveItem)\r\n  }\r\n\r\n  toggleItem(node) {\r\n\r\n    const oldActiveSmallItem = this.fancybox.getElementsByClassName('my-fancybox__item_active')[0]\r\n    if (oldActiveSmallItem) oldActiveSmallItem.classList.remove('my-fancybox__item_active')\r\n    node.classList.add('my-fancybox__item_active')\r\n    const index = node.getAttribute('data-index')\r\n    const data = this.data[index]\r\n    const box = this.fancybox.getElementsByClassName('my-fancybox__box_active')[0]\r\n    const image = box.getElementsByClassName(\"my-fancybox__image-big\")[0]\r\n    image.src = data.href\r\n    const text = box.getElementsByClassName(\"my-fancybox__text\")[0]\r\n    if (text) text.innerHTML = data.text\r\n    this.stopPlayingVideo()\r\n  }\r\n\r\n  stopPlayingVideo() {\r\n    const playingVideo = this.fancybox.getElementsByClassName(\"my-fancybox__iframe-box_play\")[0]\r\n    if (playingVideo) {\r\n      const frame = playingVideo.getElementsByClassName(\"my-fancybox__iframe\")[0]\r\n      frame.contentWindow.postMessage(JSON.stringify({ event: 'command',\r\n        func: 'stopVideo' }), '*')\r\n      playingVideo.classList.remove(\"my-fancybox__iframe-box_play\")\r\n    }\r\n  }\r\n\r\n  openFancybox(currentItem) {\r\n    let currentIndex = 0\r\n    const currentHref = currentItem.getAttribute(\"data-thumb\")\r\n\r\n    for (let i = 0; i < this.fancyboxItems.length; i++) {\r\n      if (this.fancyboxItems[i].getElementsByTagName(\"img\")[0].getAttribute(\"src\") === currentHref) {\r\n        currentIndex = i + 1\r\n        break\r\n      }\r\n    }\r\n    const activeItem = this.fancybox.querySelector('[data-index=\"' + currentIndex + '\"]')\r\n    this.toggleItem(activeItem)\r\n    this.fancybox.classList.add('my-fancybox_open')\r\n    setTimeout(setOpacityVisible, 0)\r\n    const fancybox = this.fancybox\r\n    function setOpacityVisible() {\r\n      fancybox.classList.add('my-fancybox_open-opacity')\r\n    }\r\n    fancyboxFunctionBindLink = this.eventCloseFromESC.bind(this)\r\n    window.addEventListener('keydown', fancyboxFunctionBindLink)\r\n  }\r\n\r\n  closeFancybox() {\r\n    window.removeEventListener('keydown', fancyboxFunctionBindLink)\r\n    const openFancybox = document.getElementsByClassName('my-fancybox_open')[0]\r\n    openFancybox.classList.remove('my-fancybox_open-opacity')\r\n    setTimeout(hideDisplay, 300)\r\n    function hideDisplay() {\r\n      openFancybox.classList.remove('my-fancybox_open')\r\n      const myFancybox = document.querySelector('[data-role=\"my-fancybox\"]')\r\n      myFancybox.remove()\r\n    }\r\n  }\r\n\r\n  toggleMenu() {\r\n    const menu = document.querySelector('[data-role=\"my-fancybox__list-box\"]')\r\n    if (menu.classList.contains(\"my-fancybox__list-box_show\")) {\r\n      menu.classList.remove(\"my-fancybox__list-box_show\")\r\n    } else {\r\n      menu.classList.add(\"my-fancybox__list-box_show\")\r\n    }\r\n  }\r\n\r\n  eventCloseFromESC (event) {\r\n    if (event.code === 'Escape') this.closeFancybox()\r\n    else if (event.code === 'ArrowRight') this.nextFancybox()\r\n    else if (event.code === 'ArrowLeft') this.prevFancybox()\r\n  }\r\n}\r\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n"],"sourceRoot":""}